{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst tslib_1 = require(\"tslib\");\nconst factory_1 = require(\"@trezor/connect/lib/factory\");\nconst dynamic_1 = require(\"@trezor/connect/lib/impl/dynamic\");\nconst connectSettings_1 = require(\"./connectSettings\");\nconst core_in_iframe_1 = require(\"./impl/core-in-iframe\");\nconst core_in_popup_1 = require(\"./impl/core-in-popup\");\nconst core_in_suite_desktop_1 = require(\"./impl/core-in-suite-desktop\");\nconst IFRAME_ERRORS = ['Init_IframeBlocked', 'Init_IframeTimeout', 'Transport_Missing'];\nconst impl = new dynamic_1.TrezorConnectDynamic({\n  implementations: [{\n    type: 'iframe',\n    impl: new core_in_iframe_1.CoreInIframe()\n  }, {\n    type: 'core-in-popup',\n    impl: new core_in_popup_1.CoreInPopup()\n  }, {\n    type: 'core-in-suite-desktop',\n    impl: new core_in_suite_desktop_1.CoreInSuiteDesktop()\n  }],\n  getInitTarget: settings => {\n    if (settings.coreMode === 'iframe') {\n      return 'iframe';\n    } else if (settings.coreMode === 'popup') {\n      return 'core-in-popup';\n    } else if (settings.coreMode === 'suite-desktop') {\n      return 'core-in-suite-desktop';\n    } else {\n      if (settings.coreMode && settings.coreMode !== 'auto') {\n        console.warn(`Invalid coreMode: ${settings.coreMode}`);\n      }\n      return 'iframe';\n    }\n  },\n  handleBeforeCall: async () => {\n    const isCoreModeDesktop = impl.lastSettings?.coreMode === 'suite-desktop';\n    if (isCoreModeDesktop) {\n      await impl.switchTarget('core-in-suite-desktop');\n    }\n  },\n  handleErrorFallback: async errorCode => {\n    const env = (0, connectSettings_1.getEnv)();\n    const isCoreModeDisabled = impl.lastSettings?.popup === false || env === 'webextension';\n    const isCoreModeAuto = impl.lastSettings?.coreMode === 'auto' || impl.lastSettings?.coreMode === undefined;\n    if (!isCoreModeDisabled && impl.getTargetType() === 'core-in-suite-desktop' && errorCode === 'Desktop_ConnectionMissing') {\n      await impl.switchTarget('core-in-popup');\n      return true;\n    }\n    if (!isCoreModeDisabled && isCoreModeAuto && IFRAME_ERRORS.includes(errorCode)) {\n      const webUsbUnavailableInBrowser = !navigator?.usb;\n      const webUsbDisabledInSettings = impl.lastSettings?.transports?.includes('WebUsbTransport') === false;\n      if (errorCode === 'Transport_Missing' && (webUsbUnavailableInBrowser || webUsbDisabledInSettings)) {\n        return false;\n      }\n      await impl.switchTarget('core-in-popup');\n      return true;\n    }\n    return false;\n  }\n});\nconst TrezorConnect = (0, factory_1.factory)({\n  eventEmitter: impl.eventEmitter,\n  init: impl.init.bind(impl),\n  call: impl.call.bind(impl),\n  setTransports: impl.setTransports.bind(impl),\n  manifest: impl.manifest.bind(impl),\n  requestLogin: impl.requestLogin.bind(impl),\n  uiResponse: impl.uiResponse.bind(impl),\n  cancel: impl.cancel.bind(impl),\n  dispose: impl.dispose.bind(impl)\n}, {\n  renderWebUSBButton: impl.getTarget().renderWebUSBButton.bind(impl),\n  disableWebUSB: impl.getTarget().disableWebUSB.bind(impl),\n  requestWebUSBDevice: impl.getTarget().requestWebUSBDevice.bind(impl)\n});\nexports.default = TrezorConnect;\ntslib_1.__exportStar(require(\"@trezor/connect/lib/exports\"), exports);","map":{"version":3,"names":["Object","defineProperty","exports","value","tslib_1","require","factory_1","dynamic_1","connectSettings_1","core_in_iframe_1","core_in_popup_1","core_in_suite_desktop_1","IFRAME_ERRORS","impl","TrezorConnectDynamic","implementations","type","CoreInIframe","CoreInPopup","CoreInSuiteDesktop","getInitTarget","settings","coreMode","console","warn","handleBeforeCall","isCoreModeDesktop","lastSettings","switchTarget","handleErrorFallback","errorCode","env","getEnv","isCoreModeDisabled","popup","isCoreModeAuto","undefined","getTargetType","includes","webUsbUnavailableInBrowser","navigator","usb","webUsbDisabledInSettings","transports","TrezorConnect","factory","eventEmitter","init","bind","call","setTransports","manifest","requestLogin","uiResponse","cancel","dispose","renderWebUSBButton","getTarget","disableWebUSB","requestWebUSBDevice","default","__exportStar"],"sources":["C:/Users/yyash/Coding/solana-brkout/frontend/node_modules/@trezor/connect-web/lib/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst factory_1 = require(\"@trezor/connect/lib/factory\");\nconst dynamic_1 = require(\"@trezor/connect/lib/impl/dynamic\");\nconst connectSettings_1 = require(\"./connectSettings\");\nconst core_in_iframe_1 = require(\"./impl/core-in-iframe\");\nconst core_in_popup_1 = require(\"./impl/core-in-popup\");\nconst core_in_suite_desktop_1 = require(\"./impl/core-in-suite-desktop\");\nconst IFRAME_ERRORS = ['Init_IframeBlocked', 'Init_IframeTimeout', 'Transport_Missing'];\nconst impl = new dynamic_1.TrezorConnectDynamic({\n    implementations: [\n        {\n            type: 'iframe',\n            impl: new core_in_iframe_1.CoreInIframe(),\n        },\n        {\n            type: 'core-in-popup',\n            impl: new core_in_popup_1.CoreInPopup(),\n        },\n        {\n            type: 'core-in-suite-desktop',\n            impl: new core_in_suite_desktop_1.CoreInSuiteDesktop(),\n        },\n    ],\n    getInitTarget: (settings) => {\n        if (settings.coreMode === 'iframe') {\n            return 'iframe';\n        }\n        else if (settings.coreMode === 'popup') {\n            return 'core-in-popup';\n        }\n        else if (settings.coreMode === 'suite-desktop') {\n            return 'core-in-suite-desktop';\n        }\n        else {\n            if (settings.coreMode && settings.coreMode !== 'auto') {\n                console.warn(`Invalid coreMode: ${settings.coreMode}`);\n            }\n            return 'iframe';\n        }\n    },\n    handleBeforeCall: async () => {\n        const isCoreModeDesktop = impl.lastSettings?.coreMode === 'suite-desktop';\n        if (isCoreModeDesktop) {\n            await impl.switchTarget('core-in-suite-desktop');\n        }\n    },\n    handleErrorFallback: async (errorCode) => {\n        const env = (0, connectSettings_1.getEnv)();\n        const isCoreModeDisabled = impl.lastSettings?.popup === false || env === 'webextension';\n        const isCoreModeAuto = impl.lastSettings?.coreMode === 'auto' || impl.lastSettings?.coreMode === undefined;\n        if (!isCoreModeDisabled &&\n            impl.getTargetType() === 'core-in-suite-desktop' &&\n            errorCode === 'Desktop_ConnectionMissing') {\n            await impl.switchTarget('core-in-popup');\n            return true;\n        }\n        if (!isCoreModeDisabled && isCoreModeAuto && IFRAME_ERRORS.includes(errorCode)) {\n            const webUsbUnavailableInBrowser = !navigator?.usb;\n            const webUsbDisabledInSettings = impl.lastSettings?.transports?.includes('WebUsbTransport') === false;\n            if (errorCode === 'Transport_Missing' &&\n                (webUsbUnavailableInBrowser || webUsbDisabledInSettings)) {\n                return false;\n            }\n            await impl.switchTarget('core-in-popup');\n            return true;\n        }\n        return false;\n    },\n});\nconst TrezorConnect = (0, factory_1.factory)({\n    eventEmitter: impl.eventEmitter,\n    init: impl.init.bind(impl),\n    call: impl.call.bind(impl),\n    setTransports: impl.setTransports.bind(impl),\n    manifest: impl.manifest.bind(impl),\n    requestLogin: impl.requestLogin.bind(impl),\n    uiResponse: impl.uiResponse.bind(impl),\n    cancel: impl.cancel.bind(impl),\n    dispose: impl.dispose.bind(impl),\n}, {\n    renderWebUSBButton: impl.getTarget().renderWebUSBButton.bind(impl),\n    disableWebUSB: impl.getTarget().disableWebUSB.bind(impl),\n    requestWebUSBDevice: impl.getTarget().requestWebUSBDevice.bind(impl),\n});\nexports.default = TrezorConnect;\ntslib_1.__exportStar(require(\"@trezor/connect/lib/exports\"), exports);\n//# sourceMappingURL=index.js.map"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}