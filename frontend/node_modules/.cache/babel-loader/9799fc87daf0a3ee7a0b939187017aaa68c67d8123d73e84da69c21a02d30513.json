{"ast":null,"code":"/* eslint-disable no-console */\nimport { SafeLocalStorage, SafeLocalStorageKeys, getSafeConnectorIdKey } from '@reown/appkit-common';\n// -- Utility -----------------------------------------------------------------\nexport const StorageUtil = {\n  // Cache expiry in milliseconds\n  cacheExpiry: {\n    portfolio: 30000,\n    nativeBalance: 30000,\n    ens: 300000,\n    identity: 300000\n  },\n  isCacheExpired(timestamp, cacheExpiry) {\n    return Date.now() - timestamp > cacheExpiry;\n  },\n  getActiveNetworkProps() {\n    const namespace = StorageUtil.getActiveNamespace();\n    const caipNetworkId = StorageUtil.getActiveCaipNetworkId();\n    const stringChainId = caipNetworkId ? caipNetworkId.split(':')[1] : undefined;\n    // eslint-disable-next-line no-nested-ternary\n    const chainId = stringChainId ? isNaN(Number(stringChainId)) ? stringChainId : Number(stringChainId) : undefined;\n    return {\n      namespace,\n      caipNetworkId,\n      chainId\n    };\n  },\n  setWalletConnectDeepLink({\n    name,\n    href\n  }) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.DEEPLINK_CHOICE, JSON.stringify({\n        href,\n        name\n      }));\n    } catch {\n      console.info('Unable to set WalletConnect deep link');\n    }\n  },\n  getWalletConnectDeepLink() {\n    try {\n      const deepLink = SafeLocalStorage.getItem(SafeLocalStorageKeys.DEEPLINK_CHOICE);\n      if (deepLink) {\n        return JSON.parse(deepLink);\n      }\n    } catch {\n      console.info('Unable to get WalletConnect deep link');\n    }\n    return undefined;\n  },\n  deleteWalletConnectDeepLink() {\n    try {\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.DEEPLINK_CHOICE);\n    } catch {\n      console.info('Unable to delete WalletConnect deep link');\n    }\n  },\n  setActiveNamespace(namespace) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.ACTIVE_NAMESPACE, namespace);\n    } catch {\n      console.info('Unable to set active namespace');\n    }\n  },\n  setActiveCaipNetworkId(caipNetworkId) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID, caipNetworkId);\n      StorageUtil.setActiveNamespace(caipNetworkId.split(':')[0]);\n    } catch {\n      console.info('Unable to set active caip network id');\n    }\n  },\n  getActiveCaipNetworkId() {\n    try {\n      return SafeLocalStorage.getItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n    } catch {\n      console.info('Unable to get active caip network id');\n      return undefined;\n    }\n  },\n  deleteActiveCaipNetworkId() {\n    try {\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n    } catch {\n      console.info('Unable to delete active caip network id');\n    }\n  },\n  deleteConnectedConnectorId(namespace) {\n    try {\n      const key = getSafeConnectorIdKey(namespace);\n      SafeLocalStorage.removeItem(key);\n    } catch {\n      console.info('Unable to delete connected connector id');\n    }\n  },\n  setAppKitRecent(wallet) {\n    try {\n      const recentWallets = StorageUtil.getRecentWallets();\n      const exists = recentWallets.find(w => w.id === wallet.id);\n      if (!exists) {\n        recentWallets.unshift(wallet);\n        if (recentWallets.length > 2) {\n          recentWallets.pop();\n        }\n        SafeLocalStorage.setItem(SafeLocalStorageKeys.RECENT_WALLETS, JSON.stringify(recentWallets));\n      }\n    } catch {\n      console.info('Unable to set AppKit recent');\n    }\n  },\n  getRecentWallets() {\n    try {\n      const recent = SafeLocalStorage.getItem(SafeLocalStorageKeys.RECENT_WALLETS);\n      return recent ? JSON.parse(recent) : [];\n    } catch {\n      console.info('Unable to get AppKit recent');\n    }\n    return [];\n  },\n  setConnectedConnectorId(namespace, connectorId) {\n    try {\n      const key = getSafeConnectorIdKey(namespace);\n      SafeLocalStorage.setItem(key, connectorId);\n    } catch {\n      console.info('Unable to set Connected Connector Id');\n    }\n  },\n  getActiveNamespace() {\n    try {\n      const activeNamespace = SafeLocalStorage.getItem(SafeLocalStorageKeys.ACTIVE_NAMESPACE);\n      return activeNamespace;\n    } catch {\n      console.info('Unable to get active namespace');\n    }\n    return undefined;\n  },\n  getConnectedConnectorId(namespace) {\n    if (!namespace) {\n      return undefined;\n    }\n    try {\n      const key = getSafeConnectorIdKey(namespace);\n      return SafeLocalStorage.getItem(key);\n    } catch (e) {\n      console.info('Unable to get connected connector id in namespace ', namespace);\n    }\n    return undefined;\n  },\n  setConnectedSocialProvider(socialProvider) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTED_SOCIAL, socialProvider);\n    } catch {\n      console.info('Unable to set connected social provider');\n    }\n  },\n  getConnectedSocialProvider() {\n    try {\n      return SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_SOCIAL);\n    } catch {\n      console.info('Unable to get connected social provider');\n    }\n    return undefined;\n  },\n  deleteConnectedSocialProvider() {\n    try {\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.CONNECTED_SOCIAL);\n    } catch {\n      console.info('Unable to delete connected social provider');\n    }\n  },\n  getConnectedSocialUsername() {\n    try {\n      return SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_SOCIAL_USERNAME);\n    } catch {\n      console.info('Unable to get connected social username');\n    }\n    return undefined;\n  },\n  getStoredActiveCaipNetworkId() {\n    const storedCaipNetworkId = SafeLocalStorage.getItem(SafeLocalStorageKeys.ACTIVE_CAIP_NETWORK_ID);\n    const networkId = storedCaipNetworkId?.split(':')?.[1];\n    return networkId;\n  },\n  setConnectionStatus(status) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTION_STATUS, status);\n    } catch {\n      console.info('Unable to set connection status');\n    }\n  },\n  getConnectionStatus() {\n    try {\n      return SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTION_STATUS);\n    } catch {\n      return undefined;\n    }\n  },\n  getConnectedNamespaces() {\n    try {\n      const namespaces = SafeLocalStorage.getItem(SafeLocalStorageKeys.CONNECTED_NAMESPACES);\n      if (!namespaces?.length) {\n        return [];\n      }\n      return namespaces.split(',');\n    } catch {\n      return [];\n    }\n  },\n  setConnectedNamespaces(namespaces) {\n    try {\n      const uniqueNamespaces = Array.from(new Set(namespaces));\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.CONNECTED_NAMESPACES, uniqueNamespaces.join(','));\n    } catch {\n      console.info('Unable to set namespaces in storage');\n    }\n  },\n  addConnectedNamespace(namespace) {\n    try {\n      const namespaces = StorageUtil.getConnectedNamespaces();\n      if (!namespaces.includes(namespace)) {\n        namespaces.push(namespace);\n        StorageUtil.setConnectedNamespaces(namespaces);\n      }\n    } catch {\n      console.info('Unable to add connected namespace');\n    }\n  },\n  removeConnectedNamespace(namespace) {\n    try {\n      const namespaces = StorageUtil.getConnectedNamespaces();\n      const index = namespaces.indexOf(namespace);\n      if (index > -1) {\n        namespaces.splice(index, 1);\n        StorageUtil.setConnectedNamespaces(namespaces);\n      }\n    } catch {\n      console.info('Unable to remove connected namespace');\n    }\n  },\n  getTelegramSocialProvider() {\n    try {\n      return SafeLocalStorage.getItem(SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER);\n    } catch {\n      console.info('Unable to get telegram social provider');\n      return null;\n    }\n  },\n  setTelegramSocialProvider(socialProvider) {\n    try {\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER, socialProvider);\n    } catch {\n      console.info('Unable to set telegram social provider');\n    }\n  },\n  removeTelegramSocialProvider() {\n    try {\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.TELEGRAM_SOCIAL_PROVIDER);\n    } catch {\n      console.info('Unable to remove telegram social provider');\n    }\n  },\n  getBalanceCache() {\n    let cache = {};\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.PORTFOLIO_CACHE);\n      cache = result ? JSON.parse(result) : {};\n    } catch {\n      console.info('Unable to get balance cache');\n    }\n    return cache;\n  },\n  removeAddressFromBalanceCache(caipAddress) {\n    try {\n      const cache = StorageUtil.getBalanceCache();\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.PORTFOLIO_CACHE, JSON.stringify({\n        ...cache,\n        [caipAddress]: undefined\n      }));\n    } catch {\n      console.info('Unable to remove address from balance cache', caipAddress);\n    }\n  },\n  getBalanceCacheForCaipAddress(caipAddress) {\n    try {\n      const cache = StorageUtil.getBalanceCache();\n      const balanceCache = cache[caipAddress];\n      // We want to discard cache if it's older than the cache expiry\n      if (balanceCache && !this.isCacheExpired(balanceCache.timestamp, this.cacheExpiry.portfolio)) {\n        return balanceCache.balance;\n      }\n      StorageUtil.removeAddressFromBalanceCache(caipAddress);\n    } catch {\n      console.info('Unable to get balance cache for address', caipAddress);\n    }\n    return undefined;\n  },\n  updateBalanceCache(params) {\n    try {\n      const cache = StorageUtil.getBalanceCache();\n      cache[params.caipAddress] = params;\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.PORTFOLIO_CACHE, JSON.stringify(cache));\n    } catch {\n      console.info('Unable to update balance cache', params);\n    }\n  },\n  getNativeBalanceCache() {\n    let cache = {};\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);\n      cache = result ? JSON.parse(result) : {};\n    } catch {\n      console.info('Unable to get balance cache');\n    }\n    return cache;\n  },\n  removeAddressFromNativeBalanceCache(caipAddress) {\n    try {\n      const cache = StorageUtil.getBalanceCache();\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.NATIVE_BALANCE_CACHE, JSON.stringify({\n        ...cache,\n        [caipAddress]: undefined\n      }));\n    } catch {\n      console.info('Unable to remove address from balance cache', caipAddress);\n    }\n  },\n  getNativeBalanceCacheForCaipAddress(caipAddress) {\n    try {\n      const cache = StorageUtil.getNativeBalanceCache();\n      const nativeBalanceCache = cache[caipAddress];\n      // We want to discard cache if it's older than the cache expiry\n      if (nativeBalanceCache && !this.isCacheExpired(nativeBalanceCache.timestamp, this.cacheExpiry.nativeBalance)) {\n        return nativeBalanceCache;\n      }\n      console.info('Discarding cache for address', caipAddress);\n      StorageUtil.removeAddressFromBalanceCache(caipAddress);\n    } catch {\n      console.info('Unable to get balance cache for address', caipAddress);\n    }\n    return undefined;\n  },\n  updateNativeBalanceCache(params) {\n    try {\n      const cache = StorageUtil.getNativeBalanceCache();\n      cache[params.caipAddress] = params;\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.NATIVE_BALANCE_CACHE, JSON.stringify(cache));\n    } catch {\n      console.info('Unable to update balance cache', params);\n    }\n  },\n  getEnsCache() {\n    let cache = {};\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.ENS_CACHE);\n      cache = result ? JSON.parse(result) : {};\n    } catch {\n      console.info('Unable to get ens name cache');\n    }\n    return cache;\n  },\n  getEnsFromCacheForAddress(address) {\n    try {\n      const cache = StorageUtil.getEnsCache();\n      const ensCache = cache[address];\n      // We want to discard cache if it's older than the cache expiry\n      if (ensCache && !this.isCacheExpired(ensCache.timestamp, this.cacheExpiry.ens)) {\n        return ensCache.ens;\n      }\n      StorageUtil.removeEnsFromCache(address);\n    } catch {\n      console.info('Unable to get ens name from cache', address);\n    }\n    return undefined;\n  },\n  updateEnsCache(params) {\n    try {\n      const cache = StorageUtil.getEnsCache();\n      cache[params.address] = params;\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.ENS_CACHE, JSON.stringify(cache));\n    } catch {\n      console.info('Unable to update ens name cache', params);\n    }\n  },\n  removeEnsFromCache(address) {\n    try {\n      const cache = StorageUtil.getEnsCache();\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.ENS_CACHE, JSON.stringify({\n        ...cache,\n        [address]: undefined\n      }));\n    } catch {\n      console.info('Unable to remove ens name from cache', address);\n    }\n  },\n  getIdentityCache() {\n    let cache = {};\n    try {\n      const result = SafeLocalStorage.getItem(SafeLocalStorageKeys.IDENTITY_CACHE);\n      cache = result ? JSON.parse(result) : {};\n    } catch {\n      console.info('Unable to get identity cache');\n    }\n    return cache;\n  },\n  getIdentityFromCacheForAddress(address) {\n    try {\n      const cache = StorageUtil.getIdentityCache();\n      const identityCache = cache[address];\n      // We want to discard cache if it's older than the cache expiry\n      if (identityCache && !this.isCacheExpired(identityCache.timestamp, this.cacheExpiry.identity)) {\n        return identityCache.identity;\n      }\n      StorageUtil.removeIdentityFromCache(address);\n    } catch {\n      console.info('Unable to get identity from cache', address);\n    }\n    return undefined;\n  },\n  updateIdentityCache(params) {\n    try {\n      const cache = StorageUtil.getIdentityCache();\n      cache[params.address] = {\n        identity: params.identity,\n        timestamp: params.timestamp\n      };\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.IDENTITY_CACHE, JSON.stringify(cache));\n    } catch {\n      console.info('Unable to update identity cache', params);\n    }\n  },\n  removeIdentityFromCache(address) {\n    try {\n      const cache = StorageUtil.getIdentityCache();\n      SafeLocalStorage.setItem(SafeLocalStorageKeys.IDENTITY_CACHE, JSON.stringify({\n        ...cache,\n        [address]: undefined\n      }));\n    } catch {\n      console.info('Unable to remove identity from cache', address);\n    }\n  },\n  clearAddressCache() {\n    try {\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.PORTFOLIO_CACHE);\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.NATIVE_BALANCE_CACHE);\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.ENS_CACHE);\n      SafeLocalStorage.removeItem(SafeLocalStorageKeys.IDENTITY_CACHE);\n    } catch {\n      console.info('Unable to clear address cache');\n    }\n  }\n};","map":{"version":3,"names":["SafeLocalStorage","SafeLocalStorageKeys","getSafeConnectorIdKey","StorageUtil","cacheExpiry","portfolio","nativeBalance","ens","identity","isCacheExpired","timestamp","Date","now","getActiveNetworkProps","namespace","getActiveNamespace","caipNetworkId","getActiveCaipNetworkId","stringChainId","split","undefined","chainId","isNaN","Number","setWalletConnectDeepLink","name","href","setItem","DEEPLINK_CHOICE","JSON","stringify","console","info","getWalletConnectDeepLink","deepLink","getItem","parse","deleteWalletConnectDeepLink","removeItem","setActiveNamespace","ACTIVE_NAMESPACE","setActiveCaipNetworkId","ACTIVE_CAIP_NETWORK_ID","deleteActiveCaipNetworkId","deleteConnectedConnectorId","key","setAppKitRecent","wallet","recentWallets","getRecentWallets","exists","find","w","id","unshift","length","pop","RECENT_WALLETS","recent","setConnectedConnectorId","connectorId","activeNamespace","getConnectedConnectorId","e","setConnectedSocialProvider","socialProvider","CONNECTED_SOCIAL","getConnectedSocialProvider","deleteConnectedSocialProvider","getConnectedSocialUsername","CONNECTED_SOCIAL_USERNAME","getStoredActiveCaipNetworkId","storedCaipNetworkId","networkId","setConnectionStatus","status","CONNECTION_STATUS","getConnectionStatus","getConnectedNamespaces","namespaces","CONNECTED_NAMESPACES","setConnectedNamespaces","uniqueNamespaces","Array","from","Set","join","addConnectedNamespace","includes","push","removeConnectedNamespace","index","indexOf","splice","getTelegramSocialProvider","TELEGRAM_SOCIAL_PROVIDER","setTelegramSocialProvider","removeTelegramSocialProvider","getBalanceCache","cache","result","PORTFOLIO_CACHE","removeAddressFromBalanceCache","caipAddress","getBalanceCacheForCaipAddress","balanceCache","balance","updateBalanceCache","params","getNativeBalanceCache","NATIVE_BALANCE_CACHE","removeAddressFromNativeBalanceCache","getNativeBalanceCacheForCaipAddress","nativeBalanceCache","updateNativeBalanceCache","getEnsCache","ENS_CACHE","getEnsFromCacheForAddress","address","ensCache","removeEnsFromCache","updateEnsCache","getIdentityCache","IDENTITY_CACHE","getIdentityFromCacheForAddress","identityCache","removeIdentityFromCache","updateIdentityCache","clearAddressCache"],"sources":["../../../../src/utils/StorageUtil.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}