{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.encodeMessage = exports.encode = void 0;\nexports.patch = patch;\nconst light_1 = require(\"protobufjs/light\");\nconst utils_1 = require(\"./utils\");\nconst transform = (fieldType, value) => {\n  if (fieldType === 'bytes') {\n    if (typeof value === 'string' && !value) return value;\n    return Buffer.from(value, 'hex');\n  }\n  if (typeof value === 'number' && !Number.isSafeInteger(value)) {\n    throw new RangeError('field value is not within safe integer range');\n  }\n  return value;\n};\nfunction patch(Message, payload) {\n  const patched = {};\n  if (!Message.fields) {\n    return patched;\n  }\n  Object.keys(Message.fields).forEach(key => {\n    const field = Message.fields[key];\n    const value = payload[key];\n    if (typeof value === 'undefined') {\n      return;\n    }\n    if ((0, utils_1.isPrimitiveField)(field.type)) {\n      if (field.repeated) {\n        patched[key] = value.map(v => transform(field.type, v));\n      } else {\n        patched[key] = transform(field.type, value);\n      }\n      return;\n    }\n    if (field.repeated) {\n      const fieldType = Message.lookupTypeOrEnum(field.type);\n      if (fieldType instanceof light_1.Enum) {\n        patched[key] = value;\n      } else {\n        patched[key] = value.map(v => patch(fieldType, v));\n      }\n    } else if (typeof value === 'object' && value !== null) {\n      const RefMessage = Message.lookupType(field.type);\n      patched[key] = patch(RefMessage, value);\n    } else if (typeof value === 'number') {\n      const RefMessage = Message.lookupEnum(field.type);\n      patched[key] = RefMessage.values[value];\n    } else {\n      patched[key] = value;\n    }\n  });\n  return patched;\n}\nconst encode = (Message, data) => {\n  const payload = patch(Message, data);\n  const message = Message.fromObject(payload);\n  const bytes = Message.encode(message).finish();\n  return Buffer.from(bytes);\n};\nexports.encode = encode;\nconst encodeMessage = (messages, messageName, data) => {\n  const {\n    Message,\n    messageType\n  } = (0, utils_1.createMessageFromName)(messages, messageName);\n  const message = (0, exports.encode)(Message, data);\n  return {\n    messageType,\n    message\n  };\n};\nexports.encodeMessage = encodeMessage;","map":{"version":3,"names":["Object","defineProperty","exports","value","encodeMessage","encode","patch","light_1","require","utils_1","transform","fieldType","Buffer","from","Number","isSafeInteger","RangeError","Message","payload","patched","fields","keys","forEach","key","field","isPrimitiveField","type","repeated","map","v","lookupTypeOrEnum","Enum","RefMessage","lookupType","lookupEnum","values","data","message","fromObject","bytes","finish","messages","messageName","messageType","createMessageFromName"],"sources":["C:/Users/yyash/Coding/solana-brkout/frontend/node_modules/@trezor/protobuf/lib/encode.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.encodeMessage = exports.encode = void 0;\nexports.patch = patch;\nconst light_1 = require(\"protobufjs/light\");\nconst utils_1 = require(\"./utils\");\nconst transform = (fieldType, value) => {\n    if (fieldType === 'bytes') {\n        if (typeof value === 'string' && !value)\n            return value;\n        return Buffer.from(value, 'hex');\n    }\n    if (typeof value === 'number' && !Number.isSafeInteger(value)) {\n        throw new RangeError('field value is not within safe integer range');\n    }\n    return value;\n};\nfunction patch(Message, payload) {\n    const patched = {};\n    if (!Message.fields) {\n        return patched;\n    }\n    Object.keys(Message.fields).forEach(key => {\n        const field = Message.fields[key];\n        const value = payload[key];\n        if (typeof value === 'undefined') {\n            return;\n        }\n        if ((0, utils_1.isPrimitiveField)(field.type)) {\n            if (field.repeated) {\n                patched[key] = value.map((v) => transform(field.type, v));\n            }\n            else {\n                patched[key] = transform(field.type, value);\n            }\n            return;\n        }\n        if (field.repeated) {\n            const fieldType = Message.lookupTypeOrEnum(field.type);\n            if (fieldType instanceof light_1.Enum) {\n                patched[key] = value;\n            }\n            else {\n                patched[key] = value.map((v) => patch(fieldType, v));\n            }\n        }\n        else if (typeof value === 'object' && value !== null) {\n            const RefMessage = Message.lookupType(field.type);\n            patched[key] = patch(RefMessage, value);\n        }\n        else if (typeof value === 'number') {\n            const RefMessage = Message.lookupEnum(field.type);\n            patched[key] = RefMessage.values[value];\n        }\n        else {\n            patched[key] = value;\n        }\n    });\n    return patched;\n}\nconst encode = (Message, data) => {\n    const payload = patch(Message, data);\n    const message = Message.fromObject(payload);\n    const bytes = Message.encode(message).finish();\n    return Buffer.from(bytes);\n};\nexports.encode = encode;\nconst encodeMessage = (messages, messageName, data) => {\n    const { Message, messageType } = (0, utils_1.createMessageFromName)(messages, messageName);\n    const message = (0, exports.encode)(Message, data);\n    return { messageType, message };\n};\nexports.encodeMessage = encodeMessage;\n//# sourceMappingURL=encode.js.map"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}