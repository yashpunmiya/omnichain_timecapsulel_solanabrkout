{"ast":null,"code":"import { proxy, ref, subscribe } from 'valtio/vanilla';\nimport { subscribeKey as subKey } from 'valtio/vanilla/utils';\nconst CLEAN_PROVIDERS_STATE = {\n  eip155: undefined,\n  solana: undefined,\n  polkadot: undefined,\n  bip122: undefined\n};\nconst state = proxy({\n  providers: {\n    ...CLEAN_PROVIDERS_STATE\n  },\n  providerIds: {\n    ...CLEAN_PROVIDERS_STATE\n  }\n});\nexport const ProviderUtil = {\n  state,\n  subscribeKey(key, callback) {\n    return subKey(state, key, callback);\n  },\n  subscribe(callback) {\n    return subscribe(state, () => {\n      callback(state);\n    });\n  },\n  subscribeProviders(callback) {\n    return subscribe(state.providers, () => callback(state.providers));\n  },\n  setProvider(chainNamespace, provider) {\n    if (provider) {\n      state.providers[chainNamespace] = ref(provider);\n    }\n  },\n  getProvider(chainNamespace) {\n    return state.providers[chainNamespace];\n  },\n  setProviderId(chainNamespace, providerId) {\n    if (providerId) {\n      state.providerIds[chainNamespace] = providerId;\n    }\n  },\n  getProviderId(chainNamespace) {\n    if (!chainNamespace) {\n      return undefined;\n    }\n    return state.providerIds[chainNamespace];\n  },\n  reset() {\n    state.providers = {\n      ...CLEAN_PROVIDERS_STATE\n    };\n    state.providerIds = {\n      ...CLEAN_PROVIDERS_STATE\n    };\n  },\n  resetChain(chainNamespace) {\n    state.providers[chainNamespace] = undefined;\n    state.providerIds[chainNamespace] = undefined;\n  }\n};","map":{"version":3,"names":["proxy","ref","subscribe","subscribeKey","subKey","CLEAN_PROVIDERS_STATE","eip155","undefined","solana","polkadot","bip122","state","providers","providerIds","ProviderUtil","key","callback","subscribeProviders","setProvider","chainNamespace","provider","getProvider","setProviderId","providerId","getProviderId","reset","resetChain"],"sources":["../../../src/ProviderUtil.ts"],"sourcesContent":[null],"mappings":"AACA,SAASA,KAAK,EAAEC,GAAG,EAAEC,SAAS,QAAQ,gBAAgB;AACtD,SAASC,YAAY,IAAIC,MAAM,QAAQ,sBAAsB;AAqB7D,MAAMC,qBAAqB,GAAG;EAC5BC,MAAM,EAAEC,SAAS;EACjBC,MAAM,EAAED,SAAS;EACjBE,QAAQ,EAAEF,SAAS;EACnBG,MAAM,EAAEH;CACT;AAED,MAAMI,KAAK,GAAGX,KAAK,CAAyB;EAC1CY,SAAS,EAAE;IAAE,GAAGP;EAAqB,CAAE;EACvCQ,WAAW,EAAE;IAAE,GAAGR;EAAqB;CACxC,CAAC;AAEF,OAAO,MAAMS,YAAY,GAAG;EAC1BH,KAAK;EAELR,YAAYA,CAAqBY,GAAM,EAAEC,QAAoD;IAC3F,OAAOZ,MAAM,CAACO,KAAK,EAAEI,GAAG,EAAEC,QAAQ,CAAC;EACrC,CAAC;EAEDd,SAASA,CAACc,QAAiD;IACzD,OAAOd,SAAS,CAACS,KAAK,EAAE,MAAK;MAC3BK,QAAQ,CAACL,KAAK,CAAC;IACjB,CAAC,CAAC;EACJ,CAAC;EAEDM,kBAAkBA,CAACD,QAAkE;IACnF,OAAOd,SAAS,CAACS,KAAK,CAACC,SAAS,EAAE,MAAMI,QAAQ,CAACL,KAAK,CAACC,SAAS,CAAC,CAAC;EACpE,CAAC;EAEDM,WAAWA,CAAwBC,cAA8B,EAAEC,QAAW;IAC5E,IAAIA,QAAQ,EAAE;MACZT,KAAK,CAACC,SAAS,CAACO,cAAc,CAAC,GAAGlB,GAAG,CAACmB,QAAQ,CAAM;IACtD;EACF,CAAC;EAEDC,WAAWA,CAAwBF,cAA8B;IAC/D,OAAOR,KAAK,CAACC,SAAS,CAACO,cAAc,CAAkB;EACzD,CAAC;EAEDG,aAAaA,CAACH,cAA8B,EAAEI,UAAyB;IACrE,IAAIA,UAAU,EAAE;MACdZ,KAAK,CAACE,WAAW,CAACM,cAAc,CAAC,GAAGI,UAAU;IAChD;EACF,CAAC;EAEDC,aAAaA,CAACL,cAA0C;IACtD,IAAI,CAACA,cAAc,EAAE;MACnB,OAAOZ,SAAS;IAClB;IAEA,OAAOI,KAAK,CAACE,WAAW,CAACM,cAAc,CAAC;EAC1C,CAAC;EAEDM,KAAKA,CAAA;IACHd,KAAK,CAACC,SAAS,GAAG;MAAE,GAAGP;IAAqB,CAAE;IAC9CM,KAAK,CAACE,WAAW,GAAG;MAAE,GAAGR;IAAqB,CAAE;EAClD,CAAC;EAEDqB,UAAUA,CAACP,cAA8B;IACvCR,KAAK,CAACC,SAAS,CAACO,cAAc,CAAC,GAAGZ,SAAS;IAC3CI,KAAK,CAACE,WAAW,CAACM,cAAc,CAAC,GAAGZ,SAAS;EAC/C;CACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}