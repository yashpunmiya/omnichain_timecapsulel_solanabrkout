{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createZip = void 0;\nconst createZip = buffers => {\n  const fileEntries = [];\n  const centralDirectory = [];\n  let offset = 0;\n  buffers.forEach(({\n    name,\n    content\n  }) => {\n    const fileData = content;\n    const fileHeader = new Uint8Array(30 + name.length);\n    const localFileHeader = new DataView(fileHeader.buffer);\n    localFileHeader.setUint32(0, 0x04034b50, true);\n    localFileHeader.setUint16(4, 0x0, true);\n    localFileHeader.setUint16(6, 0x0, true);\n    localFileHeader.setUint16(8, 0x0, true);\n    localFileHeader.setUint16(10, 0x0, true);\n    localFileHeader.setUint16(12, 0x0, true);\n    localFileHeader.setUint32(14, 0, true);\n    localFileHeader.setUint32(18, fileData.byteLength, true);\n    localFileHeader.setUint32(22, fileData.byteLength, true);\n    localFileHeader.setUint16(26, name.length, true);\n    fileHeader.set(new TextEncoder().encode(name), 30);\n    fileEntries.push(fileHeader, fileData);\n    const centralHeader = new Uint8Array(46 + name.length);\n    const centralView = new DataView(centralHeader.buffer);\n    centralView.setUint32(0, 0x02014b50, true);\n    centralView.setUint16(4, 0x0, true);\n    centralView.setUint16(6, 0x0, true);\n    centralView.setUint16(8, 0x0, true);\n    centralView.setUint16(10, 0x0, true);\n    centralView.setUint16(12, 0x0, true);\n    centralView.setUint16(14, 0x0, true);\n    centralView.setUint32(16, 0, true);\n    centralView.setUint32(20, fileData.byteLength, true);\n    centralView.setUint32(24, fileData.byteLength, true);\n    centralView.setUint16(28, name.length, true);\n    centralView.setUint32(42, offset, true);\n    centralHeader.set(new TextEncoder().encode(name), 46);\n    centralDirectory.push(centralHeader);\n    offset += fileHeader.length + fileData.byteLength;\n  });\n  const eocd = new Uint8Array(22);\n  const eocdView = new DataView(eocd.buffer);\n  eocdView.setUint32(0, 0x06054b50, true);\n  eocdView.setUint16(8, centralDirectory.length, true);\n  eocdView.setUint16(10, centralDirectory.length, true);\n  eocdView.setUint32(12, centralDirectory.reduce((sum, cd) => sum + cd.byteLength, 0), true);\n  eocdView.setUint32(16, offset, true);\n  return new Blob([...fileEntries, ...centralDirectory, eocd], {\n    type: 'application/zip'\n  });\n};\nexports.createZip = createZip;\n//# sourceMappingURL=zip.js.map","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}