{"ast":null,"code":"import { InvalidAddressError } from '../../errors/address.js';\nimport { InvalidLegacyVError, InvalidSerializedTransactionError } from '../../errors/transaction.js';\nimport { isAddress } from '../address/isAddress.js';\nimport { toBlobSidecars } from '../blob/toBlobSidecars.js';\nimport { isHex } from '../data/isHex.js';\nimport { padHex } from '../data/pad.js';\nimport { trim } from '../data/trim.js';\nimport { hexToBigInt, hexToNumber } from '../encoding/fromHex.js';\nimport { fromRlp } from '../encoding/fromRlp.js';\nimport { isHash } from '../hash/isHash.js';\nimport { assertTransactionEIP1559, assertTransactionEIP2930, assertTransactionEIP4844, assertTransactionEIP7702, assertTransactionLegacy } from './assertTransaction.js';\nimport { getSerializedTransactionType } from './getSerializedTransactionType.js';\nexport function parseTransaction(serializedTransaction) {\n  const type = getSerializedTransactionType(serializedTransaction);\n  if (type === 'eip1559') return parseTransactionEIP1559(serializedTransaction);\n  if (type === 'eip2930') return parseTransactionEIP2930(serializedTransaction);\n  if (type === 'eip4844') return parseTransactionEIP4844(serializedTransaction);\n  if (type === 'eip7702') return parseTransactionEIP7702(serializedTransaction);\n  return parseTransactionLegacy(serializedTransaction);\n}\nfunction parseTransactionEIP7702(serializedTransaction) {\n  const transactionArray = toTransactionArray(serializedTransaction);\n  const [chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gas, to, value, data, accessList, authorizationList, v, r, s] = transactionArray;\n  if (transactionArray.length !== 10 && transactionArray.length !== 13) throw new InvalidSerializedTransactionError({\n    attributes: {\n      chainId,\n      nonce,\n      maxPriorityFeePerGas,\n      maxFeePerGas,\n      gas,\n      to,\n      value,\n      data,\n      accessList,\n      authorizationList,\n      ...(transactionArray.length > 9 ? {\n        v,\n        r,\n        s\n      } : {})\n    },\n    serializedTransaction,\n    type: 'eip7702'\n  });\n  const transaction = {\n    chainId: hexToNumber(chainId),\n    type: 'eip7702'\n  };\n  if (isHex(to) && to !== '0x') transaction.to = to;\n  if (isHex(gas) && gas !== '0x') transaction.gas = hexToBigInt(gas);\n  if (isHex(data) && data !== '0x') transaction.data = data;\n  if (isHex(nonce) && nonce !== '0x') transaction.nonce = hexToNumber(nonce);\n  if (isHex(value) && value !== '0x') transaction.value = hexToBigInt(value);\n  if (isHex(maxFeePerGas) && maxFeePerGas !== '0x') transaction.maxFeePerGas = hexToBigInt(maxFeePerGas);\n  if (isHex(maxPriorityFeePerGas) && maxPriorityFeePerGas !== '0x') transaction.maxPriorityFeePerGas = hexToBigInt(maxPriorityFeePerGas);\n  if (accessList.length !== 0 && accessList !== '0x') transaction.accessList = parseAccessList(accessList);\n  if (authorizationList.length !== 0 && authorizationList !== '0x') transaction.authorizationList = parseAuthorizationList(authorizationList);\n  assertTransactionEIP7702(transaction);\n  const signature = transactionArray.length === 13 ? parseEIP155Signature(transactionArray) : undefined;\n  return {\n    ...signature,\n    ...transaction\n  };\n}\nfunction parseTransactionEIP4844(serializedTransaction) {\n  const transactionOrWrapperArray = toTransactionArray(serializedTransaction);\n  const hasNetworkWrapper = transactionOrWrapperArray.length === 4;\n  const transactionArray = hasNetworkWrapper ? transactionOrWrapperArray[0] : transactionOrWrapperArray;\n  const wrapperArray = hasNetworkWrapper ? transactionOrWrapperArray.slice(1) : [];\n  const [chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gas, to, value, data, accessList, maxFeePerBlobGas, blobVersionedHashes, v, r, s] = transactionArray;\n  const [blobs, commitments, proofs] = wrapperArray;\n  if (!(transactionArray.length === 11 || transactionArray.length === 14)) throw new InvalidSerializedTransactionError({\n    attributes: {\n      chainId,\n      nonce,\n      maxPriorityFeePerGas,\n      maxFeePerGas,\n      gas,\n      to,\n      value,\n      data,\n      accessList,\n      ...(transactionArray.length > 9 ? {\n        v,\n        r,\n        s\n      } : {})\n    },\n    serializedTransaction,\n    type: 'eip4844'\n  });\n  const transaction = {\n    blobVersionedHashes: blobVersionedHashes,\n    chainId: hexToNumber(chainId),\n    type: 'eip4844'\n  };\n  if (isHex(to) && to !== '0x') transaction.to = to;\n  if (isHex(gas) && gas !== '0x') transaction.gas = hexToBigInt(gas);\n  if (isHex(data) && data !== '0x') transaction.data = data;\n  if (isHex(nonce) && nonce !== '0x') transaction.nonce = hexToNumber(nonce);\n  if (isHex(value) && value !== '0x') transaction.value = hexToBigInt(value);\n  if (isHex(maxFeePerBlobGas) && maxFeePerBlobGas !== '0x') transaction.maxFeePerBlobGas = hexToBigInt(maxFeePerBlobGas);\n  if (isHex(maxFeePerGas) && maxFeePerGas !== '0x') transaction.maxFeePerGas = hexToBigInt(maxFeePerGas);\n  if (isHex(maxPriorityFeePerGas) && maxPriorityFeePerGas !== '0x') transaction.maxPriorityFeePerGas = hexToBigInt(maxPriorityFeePerGas);\n  if (accessList.length !== 0 && accessList !== '0x') transaction.accessList = parseAccessList(accessList);\n  if (blobs && commitments && proofs) transaction.sidecars = toBlobSidecars({\n    blobs: blobs,\n    commitments: commitments,\n    proofs: proofs\n  });\n  assertTransactionEIP4844(transaction);\n  const signature = transactionArray.length === 14 ? parseEIP155Signature(transactionArray) : undefined;\n  return {\n    ...signature,\n    ...transaction\n  };\n}\nfunction parseTransactionEIP1559(serializedTransaction) {\n  const transactionArray = toTransactionArray(serializedTransaction);\n  const [chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gas, to, value, data, accessList, v, r, s] = transactionArray;\n  if (!(transactionArray.length === 9 || transactionArray.length === 12)) throw new InvalidSerializedTransactionError({\n    attributes: {\n      chainId,\n      nonce,\n      maxPriorityFeePerGas,\n      maxFeePerGas,\n      gas,\n      to,\n      value,\n      data,\n      accessList,\n      ...(transactionArray.length > 9 ? {\n        v,\n        r,\n        s\n      } : {})\n    },\n    serializedTransaction,\n    type: 'eip1559'\n  });\n  const transaction = {\n    chainId: hexToNumber(chainId),\n    type: 'eip1559'\n  };\n  if (isHex(to) && to !== '0x') transaction.to = to;\n  if (isHex(gas) && gas !== '0x') transaction.gas = hexToBigInt(gas);\n  if (isHex(data) && data !== '0x') transaction.data = data;\n  if (isHex(nonce) && nonce !== '0x') transaction.nonce = hexToNumber(nonce);\n  if (isHex(value) && value !== '0x') transaction.value = hexToBigInt(value);\n  if (isHex(maxFeePerGas) && maxFeePerGas !== '0x') transaction.maxFeePerGas = hexToBigInt(maxFeePerGas);\n  if (isHex(maxPriorityFeePerGas) && maxPriorityFeePerGas !== '0x') transaction.maxPriorityFeePerGas = hexToBigInt(maxPriorityFeePerGas);\n  if (accessList.length !== 0 && accessList !== '0x') transaction.accessList = parseAccessList(accessList);\n  assertTransactionEIP1559(transaction);\n  const signature = transactionArray.length === 12 ? parseEIP155Signature(transactionArray) : undefined;\n  return {\n    ...signature,\n    ...transaction\n  };\n}\nfunction parseTransactionEIP2930(serializedTransaction) {\n  const transactionArray = toTransactionArray(serializedTransaction);\n  const [chainId, nonce, gasPrice, gas, to, value, data, accessList, v, r, s] = transactionArray;\n  if (!(transactionArray.length === 8 || transactionArray.length === 11)) throw new InvalidSerializedTransactionError({\n    attributes: {\n      chainId,\n      nonce,\n      gasPrice,\n      gas,\n      to,\n      value,\n      data,\n      accessList,\n      ...(transactionArray.length > 8 ? {\n        v,\n        r,\n        s\n      } : {})\n    },\n    serializedTransaction,\n    type: 'eip2930'\n  });\n  const transaction = {\n    chainId: hexToNumber(chainId),\n    type: 'eip2930'\n  };\n  if (isHex(to) && to !== '0x') transaction.to = to;\n  if (isHex(gas) && gas !== '0x') transaction.gas = hexToBigInt(gas);\n  if (isHex(data) && data !== '0x') transaction.data = data;\n  if (isHex(nonce) && nonce !== '0x') transaction.nonce = hexToNumber(nonce);\n  if (isHex(value) && value !== '0x') transaction.value = hexToBigInt(value);\n  if (isHex(gasPrice) && gasPrice !== '0x') transaction.gasPrice = hexToBigInt(gasPrice);\n  if (accessList.length !== 0 && accessList !== '0x') transaction.accessList = parseAccessList(accessList);\n  assertTransactionEIP2930(transaction);\n  const signature = transactionArray.length === 11 ? parseEIP155Signature(transactionArray) : undefined;\n  return {\n    ...signature,\n    ...transaction\n  };\n}\nfunction parseTransactionLegacy(serializedTransaction) {\n  const transactionArray = fromRlp(serializedTransaction, 'hex');\n  const [nonce, gasPrice, gas, to, value, data, chainIdOrV_, r, s] = transactionArray;\n  if (!(transactionArray.length === 6 || transactionArray.length === 9)) throw new InvalidSerializedTransactionError({\n    attributes: {\n      nonce,\n      gasPrice,\n      gas,\n      to,\n      value,\n      data,\n      ...(transactionArray.length > 6 ? {\n        v: chainIdOrV_,\n        r,\n        s\n      } : {})\n    },\n    serializedTransaction,\n    type: 'legacy'\n  });\n  const transaction = {\n    type: 'legacy'\n  };\n  if (isHex(to) && to !== '0x') transaction.to = to;\n  if (isHex(gas) && gas !== '0x') transaction.gas = hexToBigInt(gas);\n  if (isHex(data) && data !== '0x') transaction.data = data;\n  if (isHex(nonce) && nonce !== '0x') transaction.nonce = hexToNumber(nonce);\n  if (isHex(value) && value !== '0x') transaction.value = hexToBigInt(value);\n  if (isHex(gasPrice) && gasPrice !== '0x') transaction.gasPrice = hexToBigInt(gasPrice);\n  assertTransactionLegacy(transaction);\n  if (transactionArray.length === 6) return transaction;\n  const chainIdOrV = isHex(chainIdOrV_) && chainIdOrV_ !== '0x' ? hexToBigInt(chainIdOrV_) : 0n;\n  if (s === '0x' && r === '0x') {\n    if (chainIdOrV > 0) transaction.chainId = Number(chainIdOrV);\n    return transaction;\n  }\n  const v = chainIdOrV;\n  const chainId = Number((v - 35n) / 2n);\n  if (chainId > 0) transaction.chainId = chainId;else if (v !== 27n && v !== 28n) throw new InvalidLegacyVError({\n    v\n  });\n  transaction.v = v;\n  transaction.s = s;\n  transaction.r = r;\n  transaction.yParity = v % 2n === 0n ? 1 : 0;\n  return transaction;\n}\nexport function toTransactionArray(serializedTransaction) {\n  return fromRlp(`0x${serializedTransaction.slice(4)}`, 'hex');\n}\nexport function parseAccessList(accessList_) {\n  const accessList = [];\n  for (let i = 0; i < accessList_.length; i++) {\n    const [address, storageKeys] = accessList_[i];\n    if (!isAddress(address, {\n      strict: false\n    })) throw new InvalidAddressError({\n      address\n    });\n    accessList.push({\n      address: address,\n      storageKeys: storageKeys.map(key => isHash(key) ? key : trim(key))\n    });\n  }\n  return accessList;\n}\nfunction parseAuthorizationList(serializedAuthorizationList) {\n  const authorizationList = [];\n  for (let i = 0; i < serializedAuthorizationList.length; i++) {\n    const [chainId, contractAddress, nonce, yParity, r, s] = serializedAuthorizationList[i];\n    authorizationList.push({\n      chainId: hexToNumber(chainId),\n      contractAddress,\n      nonce: hexToNumber(nonce),\n      ...parseEIP155Signature([yParity, r, s])\n    });\n  }\n  return authorizationList;\n}\nfunction parseEIP155Signature(transactionArray) {\n  const signature = transactionArray.slice(-3);\n  const v = signature[0] === '0x' || hexToBigInt(signature[0]) === 0n ? 27n : 28n;\n  return {\n    r: padHex(signature[1], {\n      size: 32\n    }),\n    s: padHex(signature[2], {\n      size: 32\n    }),\n    v,\n    yParity: v === 27n ? 0 : 1\n  };\n}","map":{"version":3,"names":["InvalidAddressError","InvalidLegacyVError","InvalidSerializedTransactionError","isAddress","toBlobSidecars","isHex","padHex","trim","hexToBigInt","hexToNumber","fromRlp","isHash","assertTransactionEIP1559","assertTransactionEIP2930","assertTransactionEIP4844","assertTransactionEIP7702","assertTransactionLegacy","getSerializedTransactionType","parseTransaction","serializedTransaction","type","parseTransactionEIP1559","parseTransactionEIP2930","parseTransactionEIP4844","parseTransactionEIP7702","parseTransactionLegacy","transactionArray","toTransactionArray","chainId","nonce","maxPriorityFeePerGas","maxFeePerGas","gas","to","value","data","accessList","authorizationList","v","r","s","length","attributes","transaction","parseAccessList","parseAuthorizationList","signature","parseEIP155Signature","undefined","transactionOrWrapperArray","hasNetworkWrapper","wrapperArray","slice","maxFeePerBlobGas","blobVersionedHashes","blobs","commitments","proofs","sidecars","gasPrice","chainIdOrV_","chainIdOrV","Number","yParity","accessList_","i","address","storageKeys","strict","push","map","key","serializedAuthorizationList","contractAddress","size"],"sources":["C:\\Users\\yyash\\Coding\\solana-brkout\\frontend\\node_modules\\@reown\\appkit\\node_modules\\@walletconnect\\utils\\node_modules\\viem\\utils\\transaction\\parseTransaction.ts"],"sourcesContent":["import {\n  InvalidAddressError,\n  type InvalidAddressErrorType,\n} from '../../errors/address.js'\nimport {\n  InvalidLegacyVError,\n  type InvalidLegacyVErrorType,\n  InvalidSerializedTransactionError,\n  type InvalidSerializedTransactionErrorType,\n} from '../../errors/transaction.js'\nimport type { ErrorType } from '../../errors/utils.js'\nimport type {\n  SerializedAuthorizationList,\n  SignedAuthorizationList,\n} from '../../experimental/eip7702/types/authorization.js'\nimport type { Hex, Signature } from '../../types/misc.js'\nimport type {\n  AccessList,\n  TransactionRequestEIP2930,\n  TransactionRequestLegacy,\n  TransactionSerializable,\n  TransactionSerializableEIP1559,\n  TransactionSerializableEIP2930,\n  TransactionSerializableEIP4844,\n  TransactionSerializableEIP7702,\n  TransactionSerializableLegacy,\n  TransactionSerialized,\n  TransactionSerializedEIP1559,\n  TransactionSerializedEIP2930,\n  TransactionSerializedEIP4844,\n  TransactionSerializedEIP7702,\n  TransactionSerializedGeneric,\n  TransactionType,\n} from '../../types/transaction.js'\nimport type { IsNarrowable, Mutable } from '../../types/utils.js'\nimport { type IsAddressErrorType, isAddress } from '../address/isAddress.js'\nimport { toBlobSidecars } from '../blob/toBlobSidecars.js'\nimport { type IsHexErrorType, isHex } from '../data/isHex.js'\nimport { type PadHexErrorType, padHex } from '../data/pad.js'\nimport { trim } from '../data/trim.js'\nimport {\n  type HexToBigIntErrorType,\n  type HexToNumberErrorType,\n  hexToBigInt,\n  hexToNumber,\n} from '../encoding/fromHex.js'\nimport { type FromRlpErrorType, fromRlp } from '../encoding/fromRlp.js'\nimport type { RecursiveArray } from '../encoding/toRlp.js'\nimport { isHash } from '../hash/isHash.js'\n\nimport {\n  type AssertTransactionEIP1559ErrorType,\n  type AssertTransactionEIP2930ErrorType,\n  type AssertTransactionEIP4844ErrorType,\n  type AssertTransactionEIP7702ErrorType,\n  type AssertTransactionLegacyErrorType,\n  assertTransactionEIP1559,\n  assertTransactionEIP2930,\n  assertTransactionEIP4844,\n  assertTransactionEIP7702,\n  assertTransactionLegacy,\n} from './assertTransaction.js'\nimport {\n  type GetSerializedTransactionType,\n  type GetSerializedTransactionTypeErrorType,\n  getSerializedTransactionType,\n} from './getSerializedTransactionType.js'\n\nexport type ParseTransactionReturnType<\n  serialized extends TransactionSerializedGeneric = TransactionSerialized,\n  type extends TransactionType = GetSerializedTransactionType<serialized>,\n> = IsNarrowable<serialized, Hex> extends true\n  ?\n      | (type extends 'eip1559' ? TransactionSerializableEIP1559 : never)\n      | (type extends 'eip2930' ? TransactionSerializableEIP2930 : never)\n      | (type extends 'eip4844' ? TransactionSerializableEIP4844 : never)\n      | (type extends 'eip7702' ? TransactionSerializableEIP7702 : never)\n      | (type extends 'legacy' ? TransactionSerializableLegacy : never)\n  : TransactionSerializable\n\nexport type ParseTransactionErrorType =\n  | GetSerializedTransactionTypeErrorType\n  | ParseTransactionEIP1559ErrorType\n  | ParseTransactionEIP2930ErrorType\n  | ParseTransactionEIP4844ErrorType\n  | ParseTransactionEIP7702ErrorType\n  | ParseTransactionLegacyErrorType\n\nexport function parseTransaction<\n  const serialized extends TransactionSerializedGeneric,\n>(serializedTransaction: serialized): ParseTransactionReturnType<serialized> {\n  const type = getSerializedTransactionType(serializedTransaction)\n\n  if (type === 'eip1559')\n    return parseTransactionEIP1559(\n      serializedTransaction as TransactionSerializedEIP1559,\n    ) as ParseTransactionReturnType<serialized>\n\n  if (type === 'eip2930')\n    return parseTransactionEIP2930(\n      serializedTransaction as TransactionSerializedEIP2930,\n    ) as ParseTransactionReturnType<serialized>\n\n  if (type === 'eip4844')\n    return parseTransactionEIP4844(\n      serializedTransaction as TransactionSerializedEIP4844,\n    ) as ParseTransactionReturnType<serialized>\n\n  if (type === 'eip7702')\n    return parseTransactionEIP7702(\n      serializedTransaction as TransactionSerializedEIP7702,\n    ) as ParseTransactionReturnType<serialized>\n\n  return parseTransactionLegacy(\n    serializedTransaction,\n  ) as ParseTransactionReturnType<serialized>\n}\n\ntype ParseTransactionEIP7702ErrorType =\n  | ToTransactionArrayErrorType\n  | AssertTransactionEIP7702ErrorType\n  | ToTransactionArrayErrorType\n  | HexToBigIntErrorType\n  | HexToNumberErrorType\n  | InvalidLegacyVErrorType\n  | InvalidSerializedTransactionErrorType\n  | IsHexErrorType\n  | ParseAuthorizationListErrorType\n  | ParseEIP155SignatureErrorType\n  | ErrorType\n\nfunction parseTransactionEIP7702(\n  serializedTransaction: TransactionSerializedEIP7702,\n): TransactionSerializableEIP7702 {\n  const transactionArray = toTransactionArray(serializedTransaction)\n\n  const [\n    chainId,\n    nonce,\n    maxPriorityFeePerGas,\n    maxFeePerGas,\n    gas,\n    to,\n    value,\n    data,\n    accessList,\n    authorizationList,\n    v,\n    r,\n    s,\n  ] = transactionArray\n\n  if (transactionArray.length !== 10 && transactionArray.length !== 13)\n    throw new InvalidSerializedTransactionError({\n      attributes: {\n        chainId,\n        nonce,\n        maxPriorityFeePerGas,\n        maxFeePerGas,\n        gas,\n        to,\n        value,\n        data,\n        accessList,\n        authorizationList,\n        ...(transactionArray.length > 9\n          ? {\n              v,\n              r,\n              s,\n            }\n          : {}),\n      },\n      serializedTransaction,\n      type: 'eip7702',\n    })\n\n  const transaction = {\n    chainId: hexToNumber(chainId as Hex),\n    type: 'eip7702',\n  } as TransactionSerializableEIP7702\n  if (isHex(to) && to !== '0x') transaction.to = to\n  if (isHex(gas) && gas !== '0x') transaction.gas = hexToBigInt(gas)\n  if (isHex(data) && data !== '0x') transaction.data = data\n  if (isHex(nonce) && nonce !== '0x') transaction.nonce = hexToNumber(nonce)\n  if (isHex(value) && value !== '0x') transaction.value = hexToBigInt(value)\n  if (isHex(maxFeePerGas) && maxFeePerGas !== '0x')\n    transaction.maxFeePerGas = hexToBigInt(maxFeePerGas)\n  if (isHex(maxPriorityFeePerGas) && maxPriorityFeePerGas !== '0x')\n    transaction.maxPriorityFeePerGas = hexToBigInt(maxPriorityFeePerGas)\n  if (accessList.length !== 0 && accessList !== '0x')\n    transaction.accessList = parseAccessList(accessList as RecursiveArray<Hex>)\n  if (authorizationList.length !== 0 && authorizationList !== '0x')\n    transaction.authorizationList = parseAuthorizationList(\n      authorizationList as SerializedAuthorizationList,\n    )\n\n  assertTransactionEIP7702(transaction)\n\n  const signature =\n    transactionArray.length === 13\n      ? parseEIP155Signature(transactionArray as RecursiveArray<Hex>)\n      : undefined\n\n  return { ...signature, ...transaction }\n}\n\ntype ParseTransactionEIP4844ErrorType =\n  | ToTransactionArrayErrorType\n  | AssertTransactionEIP4844ErrorType\n  | ToTransactionArrayErrorType\n  | HexToBigIntErrorType\n  | HexToNumberErrorType\n  | InvalidLegacyVErrorType\n  | InvalidSerializedTransactionErrorType\n  | IsHexErrorType\n  | ParseEIP155SignatureErrorType\n  | ErrorType\n\nfunction parseTransactionEIP4844(\n  serializedTransaction: TransactionSerializedEIP4844,\n): TransactionSerializableEIP4844 {\n  const transactionOrWrapperArray = toTransactionArray(serializedTransaction)\n\n  const hasNetworkWrapper = transactionOrWrapperArray.length === 4\n\n  const transactionArray = hasNetworkWrapper\n    ? transactionOrWrapperArray[0]\n    : transactionOrWrapperArray\n  const wrapperArray = hasNetworkWrapper\n    ? transactionOrWrapperArray.slice(1)\n    : []\n\n  const [\n    chainId,\n    nonce,\n    maxPriorityFeePerGas,\n    maxFeePerGas,\n    gas,\n    to,\n    value,\n    data,\n    accessList,\n    maxFeePerBlobGas,\n    blobVersionedHashes,\n    v,\n    r,\n    s,\n  ] = transactionArray\n  const [blobs, commitments, proofs] = wrapperArray\n\n  if (!(transactionArray.length === 11 || transactionArray.length === 14))\n    throw new InvalidSerializedTransactionError({\n      attributes: {\n        chainId,\n        nonce,\n        maxPriorityFeePerGas,\n        maxFeePerGas,\n        gas,\n        to,\n        value,\n        data,\n        accessList,\n        ...(transactionArray.length > 9\n          ? {\n              v,\n              r,\n              s,\n            }\n          : {}),\n      },\n      serializedTransaction,\n      type: 'eip4844',\n    })\n\n  const transaction = {\n    blobVersionedHashes: blobVersionedHashes as Hex[],\n    chainId: hexToNumber(chainId as Hex),\n    type: 'eip4844',\n  } as TransactionSerializableEIP4844\n  if (isHex(to) && to !== '0x') transaction.to = to\n  if (isHex(gas) && gas !== '0x') transaction.gas = hexToBigInt(gas)\n  if (isHex(data) && data !== '0x') transaction.data = data\n  if (isHex(nonce) && nonce !== '0x') transaction.nonce = hexToNumber(nonce)\n  if (isHex(value) && value !== '0x') transaction.value = hexToBigInt(value)\n  if (isHex(maxFeePerBlobGas) && maxFeePerBlobGas !== '0x')\n    transaction.maxFeePerBlobGas = hexToBigInt(maxFeePerBlobGas)\n  if (isHex(maxFeePerGas) && maxFeePerGas !== '0x')\n    transaction.maxFeePerGas = hexToBigInt(maxFeePerGas)\n  if (isHex(maxPriorityFeePerGas) && maxPriorityFeePerGas !== '0x')\n    transaction.maxPriorityFeePerGas = hexToBigInt(maxPriorityFeePerGas)\n  if (accessList.length !== 0 && accessList !== '0x')\n    transaction.accessList = parseAccessList(accessList as RecursiveArray<Hex>)\n  if (blobs && commitments && proofs)\n    transaction.sidecars = toBlobSidecars({\n      blobs: blobs as Hex[],\n      commitments: commitments as Hex[],\n      proofs: proofs as Hex[],\n    })\n\n  assertTransactionEIP4844(transaction)\n\n  const signature =\n    transactionArray.length === 14\n      ? parseEIP155Signature(transactionArray as RecursiveArray<Hex>)\n      : undefined\n\n  return { ...signature, ...transaction }\n}\n\ntype ParseTransactionEIP1559ErrorType =\n  | ToTransactionArrayErrorType\n  | AssertTransactionEIP1559ErrorType\n  | ToTransactionArrayErrorType\n  | HexToBigIntErrorType\n  | HexToNumberErrorType\n  | InvalidLegacyVErrorType\n  | InvalidSerializedTransactionErrorType\n  | IsHexErrorType\n  | ParseEIP155SignatureErrorType\n  | ParseAccessListErrorType\n  | ErrorType\n\nfunction parseTransactionEIP1559(\n  serializedTransaction: TransactionSerializedEIP1559,\n): TransactionSerializableEIP1559 {\n  const transactionArray = toTransactionArray(serializedTransaction)\n\n  const [\n    chainId,\n    nonce,\n    maxPriorityFeePerGas,\n    maxFeePerGas,\n    gas,\n    to,\n    value,\n    data,\n    accessList,\n    v,\n    r,\n    s,\n  ] = transactionArray\n\n  if (!(transactionArray.length === 9 || transactionArray.length === 12))\n    throw new InvalidSerializedTransactionError({\n      attributes: {\n        chainId,\n        nonce,\n        maxPriorityFeePerGas,\n        maxFeePerGas,\n        gas,\n        to,\n        value,\n        data,\n        accessList,\n        ...(transactionArray.length > 9\n          ? {\n              v,\n              r,\n              s,\n            }\n          : {}),\n      },\n      serializedTransaction,\n      type: 'eip1559',\n    })\n\n  const transaction: TransactionSerializableEIP1559 = {\n    chainId: hexToNumber(chainId as Hex),\n    type: 'eip1559',\n  }\n  if (isHex(to) && to !== '0x') transaction.to = to\n  if (isHex(gas) && gas !== '0x') transaction.gas = hexToBigInt(gas)\n  if (isHex(data) && data !== '0x') transaction.data = data\n  if (isHex(nonce) && nonce !== '0x') transaction.nonce = hexToNumber(nonce)\n  if (isHex(value) && value !== '0x') transaction.value = hexToBigInt(value)\n  if (isHex(maxFeePerGas) && maxFeePerGas !== '0x')\n    transaction.maxFeePerGas = hexToBigInt(maxFeePerGas)\n  if (isHex(maxPriorityFeePerGas) && maxPriorityFeePerGas !== '0x')\n    transaction.maxPriorityFeePerGas = hexToBigInt(maxPriorityFeePerGas)\n  if (accessList.length !== 0 && accessList !== '0x')\n    transaction.accessList = parseAccessList(accessList as RecursiveArray<Hex>)\n\n  assertTransactionEIP1559(transaction)\n\n  const signature =\n    transactionArray.length === 12\n      ? parseEIP155Signature(transactionArray)\n      : undefined\n\n  return { ...signature, ...transaction }\n}\n\ntype ParseTransactionEIP2930ErrorType =\n  | ToTransactionArrayErrorType\n  | AssertTransactionEIP2930ErrorType\n  | ToTransactionArrayErrorType\n  | HexToBigIntErrorType\n  | HexToNumberErrorType\n  | InvalidLegacyVErrorType\n  | InvalidSerializedTransactionErrorType\n  | IsHexErrorType\n  | ParseEIP155SignatureErrorType\n  | ParseAccessListErrorType\n  | ErrorType\n\nfunction parseTransactionEIP2930(\n  serializedTransaction: TransactionSerializedEIP2930,\n): Omit<TransactionRequestEIP2930, 'from'> &\n  ({ chainId: number } | ({ chainId: number } & Signature)) {\n  const transactionArray = toTransactionArray(serializedTransaction)\n\n  const [chainId, nonce, gasPrice, gas, to, value, data, accessList, v, r, s] =\n    transactionArray\n\n  if (!(transactionArray.length === 8 || transactionArray.length === 11))\n    throw new InvalidSerializedTransactionError({\n      attributes: {\n        chainId,\n        nonce,\n        gasPrice,\n        gas,\n        to,\n        value,\n        data,\n        accessList,\n        ...(transactionArray.length > 8\n          ? {\n              v,\n              r,\n              s,\n            }\n          : {}),\n      },\n      serializedTransaction,\n      type: 'eip2930',\n    })\n\n  const transaction: TransactionSerializableEIP2930 = {\n    chainId: hexToNumber(chainId as Hex),\n    type: 'eip2930',\n  }\n  if (isHex(to) && to !== '0x') transaction.to = to\n  if (isHex(gas) && gas !== '0x') transaction.gas = hexToBigInt(gas)\n  if (isHex(data) && data !== '0x') transaction.data = data\n  if (isHex(nonce) && nonce !== '0x') transaction.nonce = hexToNumber(nonce)\n  if (isHex(value) && value !== '0x') transaction.value = hexToBigInt(value)\n  if (isHex(gasPrice) && gasPrice !== '0x')\n    transaction.gasPrice = hexToBigInt(gasPrice)\n  if (accessList.length !== 0 && accessList !== '0x')\n    transaction.accessList = parseAccessList(accessList as RecursiveArray<Hex>)\n\n  assertTransactionEIP2930(transaction)\n\n  const signature =\n    transactionArray.length === 11\n      ? parseEIP155Signature(transactionArray)\n      : undefined\n\n  return { ...signature, ...transaction }\n}\n\ntype ParseTransactionLegacyErrorType =\n  | AssertTransactionLegacyErrorType\n  | FromRlpErrorType\n  | HexToBigIntErrorType\n  | HexToNumberErrorType\n  | InvalidLegacyVErrorType\n  | InvalidSerializedTransactionErrorType\n  | IsHexErrorType\n  | ErrorType\n\nfunction parseTransactionLegacy(\n  serializedTransaction: Hex,\n): Omit<TransactionRequestLegacy, 'from'> &\n  ({ chainId?: number | undefined } | ({ chainId: number } & Signature)) {\n  const transactionArray = fromRlp(serializedTransaction, 'hex')\n\n  const [nonce, gasPrice, gas, to, value, data, chainIdOrV_, r, s] =\n    transactionArray\n\n  if (!(transactionArray.length === 6 || transactionArray.length === 9))\n    throw new InvalidSerializedTransactionError({\n      attributes: {\n        nonce,\n        gasPrice,\n        gas,\n        to,\n        value,\n        data,\n        ...(transactionArray.length > 6\n          ? {\n              v: chainIdOrV_,\n              r,\n              s,\n            }\n          : {}),\n      },\n      serializedTransaction,\n      type: 'legacy',\n    })\n\n  const transaction: TransactionSerializableLegacy = {\n    type: 'legacy',\n  }\n  if (isHex(to) && to !== '0x') transaction.to = to\n  if (isHex(gas) && gas !== '0x') transaction.gas = hexToBigInt(gas)\n  if (isHex(data) && data !== '0x') transaction.data = data\n  if (isHex(nonce) && nonce !== '0x') transaction.nonce = hexToNumber(nonce)\n  if (isHex(value) && value !== '0x') transaction.value = hexToBigInt(value)\n  if (isHex(gasPrice) && gasPrice !== '0x')\n    transaction.gasPrice = hexToBigInt(gasPrice)\n\n  assertTransactionLegacy(transaction)\n\n  if (transactionArray.length === 6) return transaction\n\n  const chainIdOrV =\n    isHex(chainIdOrV_) && chainIdOrV_ !== '0x'\n      ? hexToBigInt(chainIdOrV_ as Hex)\n      : 0n\n\n  if (s === '0x' && r === '0x') {\n    if (chainIdOrV > 0) transaction.chainId = Number(chainIdOrV)\n    return transaction\n  }\n\n  const v = chainIdOrV\n\n  const chainId: number | undefined = Number((v - 35n) / 2n)\n  if (chainId > 0) transaction.chainId = chainId\n  else if (v !== 27n && v !== 28n) throw new InvalidLegacyVError({ v })\n\n  transaction.v = v\n  transaction.s = s as Hex\n  transaction.r = r as Hex\n  transaction.yParity = v % 2n === 0n ? 1 : 0\n\n  return transaction\n}\n\ntype ToTransactionArrayErrorType = FromRlpErrorType | ErrorType\n\nexport function toTransactionArray(serializedTransaction: string) {\n  return fromRlp(`0x${serializedTransaction.slice(4)}` as Hex, 'hex')\n}\n\ntype ParseAccessListErrorType =\n  | InvalidAddressErrorType\n  | IsAddressErrorType\n  | ErrorType\n\nexport function parseAccessList(accessList_: RecursiveArray<Hex>): AccessList {\n  const accessList: Mutable<AccessList> = []\n  for (let i = 0; i < accessList_.length; i++) {\n    const [address, storageKeys] = accessList_[i] as [Hex, Hex[]]\n\n    if (!isAddress(address, { strict: false }))\n      throw new InvalidAddressError({ address })\n\n    accessList.push({\n      address: address,\n      storageKeys: storageKeys.map((key) => (isHash(key) ? key : trim(key))),\n    })\n  }\n  return accessList\n}\n\ntype ParseAuthorizationListErrorType =\n  | HexToNumberErrorType\n  | ParseEIP155SignatureErrorType\n  | ErrorType\n\nfunction parseAuthorizationList(\n  serializedAuthorizationList: SerializedAuthorizationList,\n): SignedAuthorizationList {\n  const authorizationList: Mutable<SignedAuthorizationList> = []\n  for (let i = 0; i < serializedAuthorizationList.length; i++) {\n    const [chainId, contractAddress, nonce, yParity, r, s] =\n      serializedAuthorizationList[i]\n\n    authorizationList.push({\n      chainId: hexToNumber(chainId),\n      contractAddress,\n      nonce: hexToNumber(nonce),\n      ...parseEIP155Signature([yParity, r, s]),\n    })\n  }\n  return authorizationList\n}\n\ntype ParseEIP155SignatureErrorType =\n  | HexToBigIntErrorType\n  | PadHexErrorType\n  | ErrorType\n\nfunction parseEIP155Signature(\n  transactionArray: RecursiveArray<Hex>,\n): Signature & { yParity: number } {\n  const signature = transactionArray.slice(-3)\n  const v =\n    signature[0] === '0x' || hexToBigInt(signature[0] as Hex) === 0n ? 27n : 28n\n  return {\n    r: padHex(signature[1] as Hex, { size: 32 }),\n    s: padHex(signature[2] as Hex, { size: 32 }),\n    v,\n    yParity: v === 27n ? 0 : 1,\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}