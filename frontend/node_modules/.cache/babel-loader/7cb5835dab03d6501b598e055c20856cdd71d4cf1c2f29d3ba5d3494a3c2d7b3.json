{"ast":null,"code":"import { BaseSignerWalletAdapter, WalletConnectionError, WalletDisconnectedError, WalletDisconnectionError, WalletLoadError, WalletNotConnectedError, WalletNotReadyError, WalletPublicKeyError, WalletReadyState, WalletSignTransactionError } from '@solana/wallet-adapter-base';\nimport './polyfills/index.js';\nimport { getDerivationPath, getPublicKey, signTransaction } from './util.js';\nexport const LedgerWalletName = 'Ledger';\nexport class LedgerWalletAdapter extends BaseSignerWalletAdapter {\n  constructor(config = {}) {\n    super();\n    this.name = LedgerWalletName;\n    this.url = 'https://ledger.com';\n    this.icon = 'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMzUgMzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0ibTIzLjU4OCAwaC0xNnYyMS41ODNoMjEuNnYtMTZhNS41ODUgNS41ODUgMCAwIDAgLTUuNi01LjU4M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5KSIvPjxwYXRoIGQ9Im04LjM0MiAwaC0yLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCAtNS41ODUgNS41ODV2Mi43NTdoOC4zNDJ6Ii8+PHBhdGggZD0ibTAgNy41OWg4LjM0MnY4LjM0MmgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUuNzM5KSIvPjxwYXRoIGQ9Im0xNS4xOCAyMy40NTFoMi43NTdhNS41ODUgNS41ODUgMCAwIDAgNS41ODUtNS42di0yLjY3MWgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMS40NzggMTEuNDc4KSIvPjxwYXRoIGQ9Im03LjU5IDE1LjE4aDguMzQydjguMzQyaC04LjM0MnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5IDExLjQ3OCkiLz48cGF0aCBkPSJtMCAxNS4xOHYyLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCA1LjU4NSA1LjU4NWgyLjc1N3YtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDExLjQ3OCkiLz48L2c+PC9zdmc+';\n    this.supportedTransactionVersions = new Set(['legacy', 0]);\n    this._readyState = typeof window === 'undefined' || typeof document === 'undefined' || typeof navigator === 'undefined' || !navigator.hid ? WalletReadyState.Unsupported : WalletReadyState.Loadable;\n    this._disconnected = () => {\n      const transport = this._transport;\n      if (transport) {\n        transport.off('disconnect', this._disconnected);\n        this._transport = null;\n        this._publicKey = null;\n        this.emit('error', new WalletDisconnectedError());\n        this.emit('disconnect');\n      }\n    };\n    this._derivationPath = config.derivationPath || getDerivationPath(0, 0);\n    this._connecting = false;\n    this._transport = null;\n    this._publicKey = null;\n  }\n  get publicKey() {\n    return this._publicKey;\n  }\n  get connecting() {\n    return this._connecting;\n  }\n  get readyState() {\n    return this._readyState;\n  }\n  async connect() {\n    try {\n      if (this.connected || this.connecting) return;\n      if (this._readyState !== WalletReadyState.Loadable) throw new WalletNotReadyError();\n      this._connecting = true;\n      let TransportWebHIDClass;\n      try {\n        TransportWebHIDClass = (await import('@ledgerhq/hw-transport-webhid')).default;\n      } catch (error) {\n        throw new WalletLoadError(error?.message, error);\n      }\n      let transport;\n      try {\n        transport = await TransportWebHIDClass.create();\n      } catch (error) {\n        throw new WalletConnectionError(error?.message, error);\n      }\n      let publicKey;\n      try {\n        publicKey = await getPublicKey(transport, this._derivationPath);\n      } catch (error) {\n        throw new WalletPublicKeyError(error?.message, error);\n      }\n      transport.on('disconnect', this._disconnected);\n      this._transport = transport;\n      this._publicKey = publicKey;\n      this.emit('connect', publicKey);\n    } catch (error) {\n      this.emit('error', error);\n      throw error;\n    } finally {\n      this._connecting = false;\n    }\n  }\n  async disconnect() {\n    const transport = this._transport;\n    if (transport) {\n      transport.off('disconnect', this._disconnected);\n      this._transport = null;\n      this._publicKey = null;\n      try {\n        await transport.close();\n      } catch (error) {\n        this.emit('error', new WalletDisconnectionError(error?.message, error));\n      }\n    }\n    this.emit('disconnect');\n  }\n  async signTransaction(transaction) {\n    try {\n      const transport = this._transport;\n      const publicKey = this._publicKey;\n      if (!transport || !publicKey) throw new WalletNotConnectedError();\n      try {\n        const signature = await signTransaction(transport, transaction, this._derivationPath);\n        transaction.addSignature(publicKey, signature);\n      } catch (error) {\n        throw new WalletSignTransactionError(error?.message, error);\n      }\n      return transaction;\n    } catch (error) {\n      this.emit('error', error);\n      throw error;\n    }\n  }\n}","map":{"version":3,"names":["BaseSignerWalletAdapter","WalletConnectionError","WalletDisconnectedError","WalletDisconnectionError","WalletLoadError","WalletNotConnectedError","WalletNotReadyError","WalletPublicKeyError","WalletReadyState","WalletSignTransactionError","getDerivationPath","getPublicKey","signTransaction","LedgerWalletName","LedgerWalletAdapter","constructor","config","name","url","icon","supportedTransactionVersions","Set","_readyState","window","document","navigator","hid","Unsupported","Loadable","_disconnected","transport","_transport","off","_publicKey","emit","_derivationPath","derivationPath","_connecting","publicKey","connecting","readyState","connect","connected","TransportWebHIDClass","default","error","message","create","on","disconnect","close","transaction","signature","addSignature"],"sources":["C:\\Users\\yyash\\Coding\\solana-brkout\\frontend\\node_modules\\@solana\\wallet-adapter-ledger\\src\\adapter.ts"],"sourcesContent":["import type { default as Transport } from '@ledgerhq/hw-transport';\nimport type { default as TransportWebHID } from '@ledgerhq/hw-transport-webhid';\nimport type { WalletName } from '@solana/wallet-adapter-base';\nimport {\n    BaseSignerWalletAdapter,\n    WalletConnectionError,\n    WalletDisconnectedError,\n    WalletDisconnectionError,\n    WalletLoadError,\n    WalletNotConnectedError,\n    WalletNotReadyError,\n    WalletPublicKeyError,\n    WalletReadyState,\n    WalletSignTransactionError,\n} from '@solana/wallet-adapter-base';\nimport type { PublicKey, Transaction, TransactionVersion, VersionedTransaction } from '@solana/web3.js';\nimport './polyfills/index.js';\nimport { getDerivationPath, getPublicKey, signTransaction } from './util.js';\n\nexport interface LedgerWalletAdapterConfig {\n    derivationPath?: Buffer;\n}\n\nexport const LedgerWalletName = 'Ledger' as WalletName<'Ledger'>;\n\nexport class LedgerWalletAdapter extends BaseSignerWalletAdapter {\n    name = LedgerWalletName;\n    url = 'https://ledger.com';\n    icon =\n        'data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMzUgMzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI2ZmZiI+PHBhdGggZD0ibTIzLjU4OCAwaC0xNnYyMS41ODNoMjEuNnYtMTZhNS41ODUgNS41ODUgMCAwIDAgLTUuNi01LjU4M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5KSIvPjxwYXRoIGQ9Im04LjM0MiAwaC0yLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCAtNS41ODUgNS41ODV2Mi43NTdoOC4zNDJ6Ii8+PHBhdGggZD0ibTAgNy41OWg4LjM0MnY4LjM0MmgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUuNzM5KSIvPjxwYXRoIGQ9Im0xNS4xOCAyMy40NTFoMi43NTdhNS41ODUgNS41ODUgMCAwIDAgNS41ODUtNS42di0yLjY3MWgtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMS40NzggMTEuNDc4KSIvPjxwYXRoIGQ9Im03LjU5IDE1LjE4aDguMzQydjguMzQyaC04LjM0MnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNzM5IDExLjQ3OCkiLz48cGF0aCBkPSJtMCAxNS4xOHYyLjc1N2E1LjU4NSA1LjU4NSAwIDAgMCA1LjU4NSA1LjU4NWgyLjc1N3YtOC4zNDJ6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDExLjQ3OCkiLz48L2c+PC9zdmc+';\n    supportedTransactionVersions: ReadonlySet<TransactionVersion> = new Set(['legacy', 0]);\n\n    private _derivationPath: Buffer;\n    private _connecting: boolean;\n    private _transport: Transport | null;\n    private _publicKey: PublicKey | null;\n    private _readyState: WalletReadyState =\n        typeof window === 'undefined' ||\n        typeof document === 'undefined' ||\n        typeof navigator === 'undefined' ||\n        !navigator.hid\n            ? WalletReadyState.Unsupported\n            : WalletReadyState.Loadable;\n\n    constructor(config: LedgerWalletAdapterConfig = {}) {\n        super();\n        this._derivationPath = config.derivationPath || getDerivationPath(0, 0);\n        this._connecting = false;\n        this._transport = null;\n        this._publicKey = null;\n    }\n\n    get publicKey() {\n        return this._publicKey;\n    }\n\n    get connecting() {\n        return this._connecting;\n    }\n\n    get readyState() {\n        return this._readyState;\n    }\n\n    async connect(): Promise<void> {\n        try {\n            if (this.connected || this.connecting) return;\n            if (this._readyState !== WalletReadyState.Loadable) throw new WalletNotReadyError();\n\n            this._connecting = true;\n\n            let TransportWebHIDClass: typeof TransportWebHID;\n            try {\n                TransportWebHIDClass = (await import('@ledgerhq/hw-transport-webhid')).default;\n            } catch (error: any) {\n                throw new WalletLoadError(error?.message, error);\n            }\n\n            let transport: Transport;\n            try {\n                transport = await TransportWebHIDClass.create();\n            } catch (error: any) {\n                throw new WalletConnectionError(error?.message, error);\n            }\n\n            let publicKey: PublicKey;\n            try {\n                publicKey = await getPublicKey(transport, this._derivationPath);\n            } catch (error: any) {\n                throw new WalletPublicKeyError(error?.message, error);\n            }\n\n            transport.on('disconnect', this._disconnected);\n\n            this._transport = transport;\n            this._publicKey = publicKey;\n\n            this.emit('connect', publicKey);\n        } catch (error: any) {\n            this.emit('error', error);\n            throw error;\n        } finally {\n            this._connecting = false;\n        }\n    }\n\n    async disconnect(): Promise<void> {\n        const transport = this._transport;\n        if (transport) {\n            transport.off('disconnect', this._disconnected);\n\n            this._transport = null;\n            this._publicKey = null;\n\n            try {\n                await transport.close();\n            } catch (error: any) {\n                this.emit('error', new WalletDisconnectionError(error?.message, error));\n            }\n        }\n\n        this.emit('disconnect');\n    }\n\n    async signTransaction<T extends Transaction | VersionedTransaction>(transaction: T): Promise<T> {\n        try {\n            const transport = this._transport;\n            const publicKey = this._publicKey;\n            if (!transport || !publicKey) throw new WalletNotConnectedError();\n\n            try {\n                const signature = await signTransaction(transport, transaction, this._derivationPath);\n                transaction.addSignature(publicKey, signature);\n            } catch (error: any) {\n                throw new WalletSignTransactionError(error?.message, error);\n            }\n\n            return transaction;\n        } catch (error: any) {\n            this.emit('error', error);\n            throw error;\n        }\n    }\n\n    private _disconnected = () => {\n        const transport = this._transport;\n        if (transport) {\n            transport.off('disconnect', this._disconnected);\n\n            this._transport = null;\n            this._publicKey = null;\n\n            this.emit('error', new WalletDisconnectedError());\n            this.emit('disconnect');\n        }\n    };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}