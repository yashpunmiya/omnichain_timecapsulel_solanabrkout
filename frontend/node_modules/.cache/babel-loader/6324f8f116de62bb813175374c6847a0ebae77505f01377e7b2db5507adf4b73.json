{"ast":null,"code":"import { LruMap } from '../lru.js';\n/** @internal */\nexport const promiseCache = /*#__PURE__*/new LruMap(8192);\n/** Deduplicates in-flight promises. */\nexport function withDedupe(fn, {\n  enabled = true,\n  id\n}) {\n  if (!enabled || !id) return fn();\n  if (promiseCache.get(id)) return promiseCache.get(id);\n  const promise = fn().finally(() => promiseCache.delete(id));\n  promiseCache.set(id, promise);\n  return promise;\n}","map":{"version":3,"names":["LruMap","promiseCache","withDedupe","fn","enabled","id","get","promise","finally","delete","set"],"sources":["C:\\Users\\yyash\\Coding\\solana-brkout\\frontend\\node_modules\\@reown\\appkit\\node_modules\\@walletconnect\\utils\\node_modules\\viem\\utils\\promise\\withDedupe.ts"],"sourcesContent":["import { LruMap } from '../lru.js'\n\n/** @internal */\nexport const promiseCache = /*#__PURE__*/ new LruMap<Promise<any>>(8192)\n\ntype WithDedupeOptions = {\n  enabled?: boolean | undefined\n  id?: string | undefined\n}\n\n/** Deduplicates in-flight promises. */\nexport function withDedupe<data>(\n  fn: () => Promise<data>,\n  { enabled = true, id }: WithDedupeOptions,\n): Promise<data> {\n  if (!enabled || !id) return fn()\n  if (promiseCache.get(id)) return promiseCache.get(id)!\n  const promise = fn().finally(() => promiseCache.delete(id))\n  promiseCache.set(id, promise)\n  return promise\n}\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,WAAW;AAElC;AACA,OAAO,MAAMC,YAAY,GAAG,aAAc,IAAID,MAAM,CAAe,IAAI,CAAC;AAOxE;AACA,OAAM,SAAUE,UAAUA,CACxBC,EAAuB,EACvB;EAAEC,OAAO,GAAG,IAAI;EAAEC;AAAE,CAAqB;EAEzC,IAAI,CAACD,OAAO,IAAI,CAACC,EAAE,EAAE,OAAOF,EAAE,EAAE;EAChC,IAAIF,YAAY,CAACK,GAAG,CAACD,EAAE,CAAC,EAAE,OAAOJ,YAAY,CAACK,GAAG,CAACD,EAAE,CAAE;EACtD,MAAME,OAAO,GAAGJ,EAAE,EAAE,CAACK,OAAO,CAAC,MAAMP,YAAY,CAACQ,MAAM,CAACJ,EAAE,CAAC,CAAC;EAC3DJ,YAAY,CAACS,GAAG,CAACL,EAAE,EAAEE,OAAO,CAAC;EAC7B,OAAOA,OAAO;AAChB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}