{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) {\n    return e;\n  } else {\n    var n = {};\n    if (e) {\n      Object.keys(e).forEach(function (k) {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () {\n            return e[k];\n          }\n        });\n      });\n    }\n    n['default'] = e;\n    return n;\n  }\n}\nvar ReactDOM = _interopDefault(require('react-dom'));\nvar React = require('react');\nvar React__default = _interopDefault(React);\nvar Modal = _interopDefault(require('react-modal'));\nvar events = require('events');\nvar rxjs = require('rxjs');\nvar QRCode = _interopDefault(require('qrcode.react'));\nvar bcUr = require('@ngraveio/bc-ur');\nconst BaseQRCode = ({\n  size = 200,\n  data = \"\",\n  ecl = \"L\"\n}) => {\n  return React__default.createElement(QRCode, {\n    value: data,\n    size: size,\n    level: ecl\n  });\n};\n(function (ReadStatus) {\n  ReadStatus[\"canceled\"] = \"canceled\";\n  ReadStatus[\"success\"] = \"success\";\n})(exports.ReadStatus || (exports.ReadStatus = {}));\n(function (PlayStatus) {\n  PlayStatus[\"canceled\"] = \"canceled\";\n  PlayStatus[\"success\"] = \"success\";\n})(exports.PlayStatus || (exports.PlayStatus = {}));\n(function (SupportedResult) {\n  SupportedResult[\"UR_BYTES\"] = \"bytes\";\n  SupportedResult[\"UR_CRYPTO_HDKEY\"] = \"crypto-hdkey\";\n  SupportedResult[\"UR_CRYPTO_ACCOUNT\"] = \"crypto-account\";\n  SupportedResult[\"UR_ETH_SIGN_REQUEST\"] = \"eth-sign-request\";\n  SupportedResult[\"UR_ETH_SIGNATURE\"] = \"eth-signature\";\n  SupportedResult[\"UR_CRYPTO_MULTI_ACCOUNTS\"] = \"crypto-multi-accounts\";\n  SupportedResult[\"UR_SOL_SIGN_REQUEST\"] = \"sol-sign-request\";\n  SupportedResult[\"UR_SOL_SIGNATURE\"] = \"sol-signature\";\n  SupportedResult[\"UR_APTOS_SIGN_REQUEST\"] = \"aptos-sign-request\";\n  SupportedResult[\"UR_APTOS_SIGNATURE\"] = \"aptos-signature\";\n  SupportedResult[\"UR_ARWEAVE_SIGN_REQUEST\"] = \"arweave-sign-request\";\n  SupportedResult[\"UR_ARWEAVE_SIGNATURE\"] = \"arweave-signature\";\n  SupportedResult[\"UR_ARWEAVE_CRYPTO_ACCOUNT\"] = \"arweave-crypto-account\";\n  SupportedResult[\"UR_COSMOS_SIGN_REQUEST\"] = \"cosmos-sign-request\";\n  SupportedResult[\"UR_COSMOS_SIGNATURE\"] = \"cosmos-signature\";\n})(exports.SupportedResult || (exports.SupportedResult = {}));\nconst styleBase = {\n  minWidth: \"16rem\",\n  height: \"3rem\",\n  background: \"#784FFE\",\n  borderColor: \"grey\",\n  borderRadius: \"8px\",\n  borderWidth: 1,\n  color: \"white\",\n  outline: \"none\",\n  margin: 2\n};\nconst Button = props => {\n  const {\n    onClick,\n    children\n  } = props;\n  return React__default.createElement(\"button\", {\n    onClick: onClick,\n    style: styleBase\n  }, children);\n};\nconst ButtonGroup = props => {\n  return React__default.createElement(\"div\", {\n    style: {\n      width: \"100%\",\n      marginTop: \"1rem\",\n      display: \"flex\",\n      flexDirection: \"row-reverse\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    }\n  }, props.children);\n};\nconst DEFAULT_SPEED = 100;\nconst DEFAULT_MAX_FRAGMENT_LENGTH = 400;\nconst DEFAULT_UR = /*#__PURE__*/new bcUr.UR(/*#__PURE__*/Buffer.from(\"NO DATA\", \"utf-8\"));\nconst useAnimatedQRCodePlayer = () => {\n  const [data, setData] = React.useState(DEFAULT_UR);\n  const [shouldShow, setShouldShow] = React.useState(false);\n  const [refreshSpeed, setRefreshSpeed] = React.useState(DEFAULT_SPEED);\n  const [maxFragmentLength, setMaxFragmentLength] = React.useState(DEFAULT_MAX_FRAGMENT_LENGTH);\n  const [hasNext, setHasNext] = React.useState(false);\n  const [title, setTitle] = React.useState(null);\n  const [description, setDescription] = React.useState(null);\n  const urEncoder = React.useMemo(() => new bcUr.UREncoder(data, maxFragmentLength), [data]);\n  const [qr, setQR] = React.useState(urEncoder.nextPart());\n  const ee = React.useMemo(() => new events.EventEmitter(), []);\n  const reset = () => {\n    setData(DEFAULT_UR);\n    setShouldShow(false);\n    setRefreshSpeed(DEFAULT_SPEED);\n  };\n  React.useEffect(() => {\n    if (urEncoder.cbor.toString(\"hex\") !== DEFAULT_UR.cbor.toString(\"hex\")) {\n      setShouldShow(true);\n    }\n  }, [urEncoder]);\n  React.useEffect(() => {\n    const subscribe = rxjs.interval(refreshSpeed).subscribe(() => {\n      setQR(urEncoder.nextPart());\n    });\n    return () => {\n      subscribe.unsubscribe();\n    };\n  }, [refreshSpeed, urEncoder]);\n  const finish = () => {\n    ee.emit(\"finish\", true);\n  };\n  const element = shouldShow ? React__default.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\"\n    }\n  }, title && React__default.createElement(\"p\", {\n    style: {\n      fontSize: \"1.25rem\",\n      fontWeight: \"bold\"\n    }\n  }, title), React__default.createElement(BaseQRCode, {\n    size: 288,\n    data: qr\n  }), description && React__default.createElement(\"p\", {\n    style: {\n      fontSize: \"1rem\",\n      textAlign: \"center\"\n    }\n  }, description), React__default.createElement(ButtonGroup, null, React__default.createElement(Button, {\n    onClick: finish\n  }, hasNext ? \"Scan Keystone\" : \"Finish\"))) : React__default.createElement(\"div\", null);\n  return [element, {\n    play: (data, options) => {\n      return new Promise(resolve => {\n        setData(data);\n        if (options) {\n          options.refreshSpeed && setRefreshSpeed(options.refreshSpeed);\n          options.hasNext && setHasNext(options.hasNext);\n          options.title && setTitle(options.title);\n          options.description && setDescription(options.description);\n          options.maxFragmentLength && setMaxFragmentLength(options.maxFragmentLength);\n        }\n        ee.once(\"finish\", () => {\n          reset();\n          resolve(exports.PlayStatus.success);\n        });\n      });\n    }\n  }];\n};\nclass URTypeError extends Error {\n  constructor(msg) {\n    super(msg); // Set the prototype explicitly.\n\n    Object.setPrototypeOf(this, URTypeError.prototype);\n  }\n}\nconst LoadingSpinner = () => {\n  return React__default.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    style: {\n      margin: \"auto\",\n      display: \"block\",\n      shapeRendering: \"auto\",\n      animationPlayState: \"running\",\n      animationDelay: \"0s\"\n    },\n    width: \"200px\",\n    height: \"200px\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid\"\n  }, React__default.createElement(\"circle\", {\n    cx: \"50\",\n    cy: \"50\",\n    fill: \"none\",\n    stroke: \"#9b9b9b\",\n    strokeWidth: \"7\",\n    r: \"35\",\n    strokeDasharray: \"164.93361431346415 56.97787143782138\",\n    style: {\n      animationPlayState: \"running\",\n      animationDelay: \"0s\"\n    }\n  }, React__default.createElement(\"animateTransform\", {\n    attributeName: \"transform\",\n    type: \"rotate\",\n    repeatCount: \"indefinite\",\n    dur: \"1s\",\n    values: \"0 50 50;360 50 50\",\n    keyTimes: \"0;1\",\n    style: {\n      animationPlayState: \"running\",\n      animationDelay: \"0s\"\n    }\n  })));\n};\nconst QrReader = /*#__PURE__*/React__default.lazy(() => new Promise(function (resolve) {\n  resolve(_interopNamespace(require('react-qr-reader')));\n}));\nlet URTypeErrorMessage = \"\";\nconst useAnimatedQRCodeReader = () => {\n  const [cameraReady, setCameraReady] = React.useState(false);\n  const [expectTypes, setExpectTypes] = React.useState([]);\n  const [urDecoder, setURDecoder] = React.useState(new bcUr.URDecoder());\n  const [error, setError] = React.useState(\"\");\n  const ee = React.useMemo(() => new events.EventEmitter(), []);\n  const [title, setTitle] = React.useState(null);\n  const [progress, setProgress] = React.useState(0);\n  const [description, setDescription] = React.useState(null);\n  const reset = () => {\n    setURDecoder(new bcUr.URDecoder());\n    setError(\"\");\n  };\n  const processQRCode = (qr, errorMessgeOnURType) => {\n    processUR(qr, errorMessgeOnURType);\n  };\n  const handleStop = () => {\n    ee.emit(\"read\", {\n      status: \"canceled\"\n    });\n  };\n  const handleRetry = () => {\n    reset();\n  };\n  const processUR = (ur, errorMessgeOnURType) => {\n    try {\n      if (!urDecoder.isComplete()) {\n        urDecoder.receivePart(ur);\n        setProgress(urDecoder.getProgress());\n      } else {\n        const result = urDecoder.resultUR();\n        let foundExpected = false;\n        expectTypes.forEach(et => {\n          if (et === result.type) {\n            foundExpected = true;\n            ee.emit(\"read\", {\n              result,\n              status: \"success\"\n            });\n            return;\n          }\n        });\n        if (!foundExpected) throw new URTypeError(`received ur type ${result.type}, but expected [${expectTypes.join(\",\")}]`);\n      }\n    } catch (e) {\n      if (e instanceof URTypeError) {\n        setError(errorMessgeOnURType);\n      } else {\n        setError(e.message);\n      }\n    }\n  };\n  const element = React__default.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\"\n    }\n  }, title && React__default.createElement(\"p\", {\n    style: {\n      fontSize: \"1.25rem\",\n      fontWeight: \"bold\"\n    }\n  }, title), description && React__default.createElement(\"p\", {\n    style: {\n      fontSize: \"1rem\",\n      textAlign: \"center\"\n    }\n  }, description), React__default.createElement(React.Suspense, {\n    fallback: React__default.createElement(\"div\", null)\n  }, React__default.createElement(\"div\", {\n    style: {\n      position: \"relative\",\n      width: \"100%\"\n    }\n  }, !cameraReady ? React__default.createElement(\"div\", {\n    style: {\n      position: \"absolute\",\n      top: \"50%\",\n      left: \"50%\",\n      transform: \"translate(-50%, -50%)\"\n    }\n  }, React__default.createElement(LoadingSpinner, null)) : null, React__default.createElement(QrReader, {\n    onScan: data => {\n      if (data) {\n        setCameraReady(true);\n        processQRCode(data, URTypeErrorMessage);\n      }\n    },\n    delay: 100,\n    style: {\n      width: \"100%\"\n    },\n    onError: e => {\n      setError(e.message);\n    }\n  }))), React__default.createElement(\"p\", null, (progress * 100).toFixed(0), \" %\"), error && React__default.createElement(\"p\", {\n    style: {\n      color: \"red\",\n      fontSize: \"1rem\"\n    }\n  }, error), React__default.createElement(ButtonGroup, null, React__default.createElement(Button, {\n    onClick: handleStop\n  }, \"Close\"), error && React__default.createElement(Button, {\n    onClick: handleRetry\n  }, \"Retry\")));\n  return [element, {\n    read: (expect, options) => {\n      return new Promise(resolve => {\n        setExpectTypes(expect);\n        if (options) {\n          options.title && setTitle(options.title);\n          options.description && setDescription(options.description);\n          URTypeErrorMessage = options.URTypeErrorMessage ? options.URTypeErrorMessage : \"\";\n        }\n        ee.once(\"read\", result => {\n          reset();\n          resolve(result);\n        });\n      });\n    },\n    cameraReady\n  }];\n};\nconst InitialPage = props => {\n  return React__default.createElement(\"div\", {\n    style: {\n      paddingLeft: \"1rem\"\n    }\n  }, React__default.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\",\n      padding: 0\n    }\n  }, React__default.createElement(\"img\", {\n    style: {\n      display: \"inline-block\"\n    },\n    src: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAoCAYAAACfKfiZAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAKAAAAACc9ikyAAAD+ElEQVRYCb1WbWiNURw/Z9caY5SyrKzVhuUtZcYoJdZ8kMywGClG+WK+eJsPmogNKfZBxBbmAyPyEgvtA8UUX9inbVeb8AGTd8t2j9/vdp91ntPzPPd57h3/+t1z/uf/ev7nnP9zhUiMsmH2BOgF9ifmIjmrVpgrDWuScxfMeqUW2EqiB2sjgrlJTDsNZmHACqyP2xJzGcyq2iU4E7kTzFVw7fEw+Qbou9bn94K7FCIlgNFh6I7y0E8oAQ9/NlEBuAig71ifv4VspM1iiJnHHsGZyPohjmdzxzeu79acsyFJm8UQMnzbfONmUIvnsRTG4g3DWAM8B24DM4GkaR88WMGcxkYtQr2h+wl8niYPPJ0Aix+AU2Cu8UlmASRe0gHA1L1JYaLUBEPToc7v1hx7XdISTc/3tAiaXs+uE3K2ZdJaQE/MnLdDzvvhm3ij2wDTkc4vj3lLx/gmji7tqmL6voYNcRze17zwv4CemNuc/xt8NSoqsau5OfoD2TSAxDb+EXDTNdeX0igeHYSCaajzfGoWZWDidU90O84XWIZuYw4EvwDT0OK527GG8VUPfcuO4wPAsVvqt/MolIYDbsSmxLPUiS+gEpgBOH1Z+7HOC90MMBFXYnn0jM35S8hDrtZJCFgBluZEHB/bIWenc6XVV1Qo/MCxCoM2ucUi0lwubX4YfBng1TKvQ1426MWY1NSolAs94jJKVoYaOh2DbqGw3ddQqutqkGcooEG5rmHM+8DvMNZs7KVuUaiUWOUjOO0k9HIjSpzOq1RRv0xgus2jnTkONhxbKsZ4A7gFlMbWRChddMLtZ4v3O0YiojZvq8rkEbwCrOai278Dkw98BxYBLYD+anaB58sREzerosiAaMExjCbvl0KpooAV6HIx2IN1Bk8FTgF6cLDiCLCTk86z8mlKSCzBbr6S90NSooumiXYm8MjBgG+3KbZehXGygw6XmAQrEU0C77TETxII3ofA6zrrZR+PIAvoBrhTEnvAPIBJZAIdQLzS8r8BkxGTNqq5AxLHocQY8iYxOIKuwCu4Sxkr8B7g5bLoIiYMTjoExAtOvTqASYiORtmmJCohxRfyBv3GeqkVnDJWgLQQaAV45iw3k5oKsAMySb9UDcVaKuduUYWiX1xDObPJI/AHDBXhBsnvwiBZCXChAuA/nWdkQLxg0bJGOf8/tDtG9fxNKqNfisX4ZKamC/Gw/Zzs9e9GiL1Q5n0ICn6A5gQJ5KY7C4Ig33s90WibdXOsr3ud7wsoshcwiaAUPfegRm76syHgBylINaIX0c1hout8FecB/i/Uy23OedvZP/4Z5cDzSeAnYAZnK54P/BcahygHAD5dNh12tilAIPoLD0OnpwCV000AAAAASUVORK5CYII=\",\n    alt: \"\"\n  }), React__default.createElement(\"div\", {\n    style: {\n      fontSize: \"1.25rem\",\n      fontWeight: \"bold\",\n      marginLeft: \"1rem\"\n    }\n  }, \"Sync Keystone\")), React__default.createElement(\"ul\", {\n    style: {\n      marginTop: \"2rem\",\n      listStyleType: \"none\",\n      padding: 0,\n      fontSize: \"1rem\"\n    }\n  }, React__default.createElement(\"li\", {\n    style: {\n      marginBottom: \"0.75rem\"\n    }\n  }, \"1. Turn on your Keystone hardware device\"), React__default.createElement(\"li\", {\n    style: {\n      marginBottom: \"0.75rem\"\n    }\n  }, `2. Select your \"${props.walletMode}\" as your Watch-only wallet(Companion App)`), React__default.createElement(\"li\", {\n    style: {\n      marginBottom: \"0.75rem\"\n    }\n  }, \" \", \"3. Press the \\\"Scan Keystone\\\" button and scan the QR Code displayed on your Keystone hardware wallet\"), React__default.createElement(\"li\", {\n    style: {\n      marginBottom: \"0.75rem\"\n    }\n  }, \" \", \"4. Select account and check your watch-only wallet\")), React__default.createElement(\"div\", {\n    style: {\n      marginBottom: \"1rem\"\n    }\n  }, React__default.createElement(\"a\", {\n    style: {\n      marginTop: \"1.25rem\",\n      color: \"#784FFE\",\n      textDecoration: \"none\"\n    },\n    href: props.link,\n    target: \"_blank\",\n    rel: \"noreferrer\"\n  }, \"Click here to view detailed tutorial\")), React__default.createElement(Button, {\n    onClick: props.onButtonClick\n  }, \"Sync Keystone\"));\n};\nconst customStyles = {\n  overlay: {\n    zIndex: 999\n  },\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    borderRadius: \"10px\",\n    width: \"37rem\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n    postion: \"relative\"\n  }\n};\nconst useController = () => {\n  const ee = React.useMemo(() => new events.EventEmitter(), []);\n  const [visible, setVisible] = React.useState(false);\n  const [walletMode, setWalltMode] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n  const [mode, setMode] = React.useState(null);\n  const [AnimatedQRCodePlayer, {\n    play\n  }] = useAnimatedQRCodePlayer();\n  const [AnimatedQRCodeReader, {\n    read,\n    cameraReady\n  }] = useAnimatedQRCodeReader();\n  const close = () => {\n    ee.emit(\"close\");\n    reset();\n  };\n  const reset = () => {\n    setMode(null);\n    setLink(\"\");\n    setWalltMode(\"\");\n    setVisible(false);\n  };\n  const goToRead = () => {\n    setMode(\"read\");\n  };\n  const renderPannel = pageMode => {\n    if (pageMode === \"initial\") {\n      return React__default.createElement(InitialPage, {\n        walletMode: walletMode,\n        link: link,\n        onButtonClick: goToRead\n      });\n    } else if (pageMode === \"read\") {\n      return AnimatedQRCodeReader;\n    } else if (pageMode === \"play\") {\n      return AnimatedQRCodePlayer;\n    } else {\n      return null;\n    }\n  };\n  const element = React__default.createElement(Modal, {\n    isOpen: visible,\n    style: customStyles\n  }, React__default.createElement(\"div\", {\n    onClick: close\n  }, React__default.createElement(\"img\", {\n    style: {\n      position: \"absolute\",\n      top: \"1rem\",\n      right: \"1rem\"\n    },\n    src: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADKADAAQAAAABAAAADAAAAAATDPpdAAAAmklEQVQoFZWRwQ3DIAwAa4brJPBP80hnaD/lD5N0iYxEfRVBxBGRwsvgO2PZklJaReTrvX/eTk7O+VVKuTtgDRYVPyOeHAysAFV40jCGEB69aHN/YSRZGK4JVuKu5/DrToDoqnI9tOh4vXJ2Qlc96kSY2lTfWs0m9DCT0r3MSkUrXR9r3eBCNbuDrY/td23z7Vg3wQhGIgcD+wPGY2fPvHuWagAAAABJRU5ErkJggg==\"\n  })), React__default.createElement(\"div\", {\n    style: {\n      width: \"35rem\",\n      padding: 18,\n      flex: 1,\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      color: \"#002237\"\n    }\n  }, renderPannel(mode)));\n  return [element, {\n    play: (data, options) => {\n      return new Promise(resolve => {\n        ee.once(\"close\", () => {\n          resolve(exports.PlayStatus.canceled);\n        });\n        setVisible(true);\n        setMode(\"play\");\n        play(data, options).then(() => {\n          reset();\n          resolve(exports.PlayStatus.success);\n        });\n      });\n    },\n    read: async (expect, options) => {\n      return new Promise(resolve => {\n        ee.once(\"close\", () => {\n          reset();\n          resolve({\n            status: exports.ReadStatus.canceled\n          });\n        });\n        if (options.renderInitial) {\n          setWalltMode(options.renderInitial.walletMode);\n          setLink(options.renderInitial.link);\n          setMode(\"initial\");\n          setVisible(true);\n          read(expect, options).then(result => {\n            reset();\n            resolve(result);\n          });\n        } else {\n          setMode(\"read\");\n          setVisible(true);\n          read(expect, options).then(result => {\n            reset();\n            resolve(result);\n          });\n        }\n      });\n    },\n    cameraReady\n  }];\n};\nvar Root = () => {\n  const [Controller, {\n    read,\n    play,\n    cameraReady\n  }] = useController();\n  setupSdk(read, play, cameraReady);\n  return Controller;\n};\nlet initialized = false;\nlet read;\nlet play;\nlet cameraReady;\nconst bootstrap = () => {\n  const htmlBody = document.getElementsByTagName(\"body\").item(0);\n  const sdkDiv = document.createElement(\"div\");\n  sdkDiv.id = \"kv_sdk_container\";\n  htmlBody.appendChild(sdkDiv);\n  Modal.setAppElement(\"#kv_sdk_container\");\n  ReactDOM.render(React__default.createElement(Root), sdkDiv);\n};\nconst setupSdk = (r, p, status) => {\n  initialized = true;\n  read = r;\n  play = p;\n  cameraReady = status;\n};\nconst sdk = {\n  bootstrap,\n  getSdk: () => {\n    if (initialized) {\n      return {\n        read,\n        play,\n        cameraReady\n      };\n    } else {\n      throw new Error(\"SDK is not initialized\");\n    }\n  }\n};\nexports.default = sdk;","map":{"version":3,"names":["BaseQRCode","size","data","ecl","React__default","createElement","QRCode","value","level","ReadStatus","exports","PlayStatus","SupportedResult","styleBase","minWidth","height","background","borderColor","borderRadius","borderWidth","color","outline","margin","Button","props","onClick","children","style","ButtonGroup","width","marginTop","display","flexDirection","alignItems","justifyContent","DEFAULT_SPEED","DEFAULT_MAX_FRAGMENT_LENGTH","DEFAULT_UR","bcUr","UR","Buffer","from","useAnimatedQRCodePlayer","setData","React","useState","shouldShow","setShouldShow","refreshSpeed","setRefreshSpeed","maxFragmentLength","setMaxFragmentLength","hasNext","setHasNext","title","setTitle","description","setDescription","urEncoder","useMemo","UREncoder","qr","setQR","nextPart","ee","events","EventEmitter","reset","useEffect","cbor","toString","subscribe","rxjs","interval","unsubscribe","finish","emit","element","fontSize","fontWeight","textAlign","play","options","Promise","resolve","once","success","URTypeError","Error","constructor","msg","Object","setPrototypeOf","prototype","LoadingSpinner","xmlns","shapeRendering","animationPlayState","animationDelay","viewBox","preserveAspectRatio","cx","cy","fill","stroke","strokeWidth","r","strokeDasharray","attributeName","type","repeatCount","dur","values","keyTimes","QrReader","lazy","_interopNamespace","require","URTypeErrorMessage","useAnimatedQRCodeReader","cameraReady","setCameraReady","expectTypes","setExpectTypes","urDecoder","setURDecoder","URDecoder","error","setError","progress","setProgress","processQRCode","errorMessgeOnURType","processUR","handleStop","status","handleRetry","ur","isComplete","receivePart","getProgress","result","resultUR","foundExpected","forEach","et","join","e","message","Suspense","fallback","position","top","left","transform","onScan","delay","onError","toFixed","read","expect","InitialPage","paddingLeft","padding","src","alt","marginLeft","listStyleType","marginBottom","walletMode","textDecoration","href","link","target","rel","onButtonClick","customStyles","overlay","zIndex","content","right","bottom","marginRight","postion","useController","visible","setVisible","setWalltMode","setLink","mode","setMode","AnimatedQRCodePlayer","AnimatedQRCodeReader","close","goToRead","renderPannel","pageMode","Modal","isOpen","flex","canceled","then","renderInitial","Root","Controller","setupSdk","initialized","bootstrap","htmlBody","document","getElementsByTagName","item","sdkDiv","id","appendChild","setAppElement","ReactDOM","render","p","sdk","getSdk"],"sources":["C:\\Users\\yyash\\Coding\\solana-brkout\\frontend\\node_modules\\@keystonehq\\sdk\\src\\components\\BaseQRCode.tsx","C:\\Users\\yyash\\Coding\\solana-brkout\\frontend\\node_modules\\@keystonehq\\sdk\\src\\types.ts","C:\\Users\\yyash\\Coding\\solana-brkout\\frontend\\node_modules\\@keystonehq\\sdk\\src\\components\\Button.tsx","C:\\Users\\yyash\\Coding\\solana-brkout\\frontend\\node_modules\\@keystonehq\\sdk\\src\\components\\ButtonGroup.tsx","C:\\Users\\yyash\\Coding\\solana-brkout\\frontend\\node_modules\\@keystonehq\\sdk\\src\\hooks\\useAnimatedQRCodePlayer.tsx","C:\\Users\\yyash\\Coding\\solana-brkout\\frontend\\node_modules\\@keystonehq\\sdk\\src\\error.ts","C:\\Users\\yyash\\Coding\\solana-brkout\\frontend\\node_modules\\@keystonehq\\sdk\\src\\components\\LoadingSpinner.tsx","C:\\Users\\yyash\\Coding\\solana-brkout\\frontend\\node_modules\\@keystonehq\\sdk\\src\\hooks\\useAnimatedQRCodeReader.tsx","C:\\Users\\yyash\\Coding\\solana-brkout\\frontend\\node_modules\\@keystonehq\\sdk\\src\\components\\InitialPage.tsx","C:\\Users\\yyash\\Coding\\solana-brkout\\frontend\\node_modules\\@keystonehq\\sdk\\src\\hooks\\useController.tsx","C:\\Users\\yyash\\Coding\\solana-brkout\\frontend\\node_modules\\@keystonehq\\sdk\\src\\Root.tsx","C:\\Users\\yyash\\Coding\\solana-brkout\\frontend\\node_modules\\@keystonehq\\sdk\\src\\service.ts"],"sourcesContent":["import React from \"react\";\nimport QRCode from \"qrcode.react\";\n\nexport const BaseQRCode = ({\n  size = 200,\n  data = \"\",\n  ecl = \"L\",\n}: {\n  data: string;\n  size?: number;\n  ecl?: \"L\" | \"M\" | \"Q\" | \"H\";\n}) => {\n  return <QRCode value={data} size={size} level={ecl} />;\n};\n","import { UR } from \"@ngraveio/bc-ur\";\n\ntype DecodedSuccess = {\n  result: UR;\n  status: ReadStatus.success;\n};\n\ntype DecodedCanceled = {\n  status: ReadStatus.canceled;\n};\n\nexport type DecodedResult = DecodedSuccess | DecodedCanceled;\n\nexport enum ReadStatus {\n  canceled = \"canceled\",\n  success = \"success\",\n}\n\nexport enum PlayStatus {\n  canceled = \"canceled\",\n  success = \"success\",\n}\n\nexport type Play = (\n  data: UR,\n  options?: {\n    refreshSpeed?: number;\n    hasNext?: boolean;\n    title?: string;\n    description?: string;\n    maxFragmentLength? : number;\n  }\n) => Promise<PlayStatus>;\n\nexport type Read = (\n  expect: SupportedResult[],\n  options?: {\n    title?: string;\n    description?: string;\n    renderInitial?: {\n      walletMode: string;\n      link: string;\n    };\n    URTypeErrorMessage?: string;\n  }\n) => Promise<DecodedResult>;\n\nexport enum SupportedResult {\n  UR_BYTES = \"bytes\",\n  UR_CRYPTO_HDKEY = \"crypto-hdkey\",\n  UR_CRYPTO_ACCOUNT = \"crypto-account\",\n  UR_ETH_SIGN_REQUEST = \"eth-sign-request\",\n  UR_ETH_SIGNATURE = \"eth-signature\",\n  UR_CRYPTO_MULTI_ACCOUNTS = \"crypto-multi-accounts\",\n  UR_SOL_SIGN_REQUEST = \"sol-sign-request\",\n  UR_SOL_SIGNATURE = \"sol-signature\",\n  UR_APTOS_SIGN_REQUEST='aptos-sign-request',\n  UR_APTOS_SIGNATURE = 'aptos-signature',\n  UR_ARWEAVE_SIGN_REQUEST = 'arweave-sign-request',\n  UR_ARWEAVE_SIGNATURE = 'arweave-signature',\n  UR_ARWEAVE_CRYPTO_ACCOUNT = 'arweave-crypto-account',\n  UR_COSMOS_SIGN_REQUEST = 'cosmos-sign-request',\n  UR_COSMOS_SIGNATURE = 'cosmos-signature'\n}\n","import React, { FunctionComponent } from \"react\";\n\ntype Props = {\n  onClick: () => any;\n};\n\nconst styleBase = {\n  minWidth: \"16rem\",\n  height: \"3rem\",\n  background: \"#784FFE\",\n  borderColor: \"grey\",\n  borderRadius: \"8px\",\n  borderWidth: 1,\n  color: \"white\",\n  outline: \"none\",\n  margin: 2,\n};\n\nexport const Button: FunctionComponent<Props> = (props) => {\n  const { onClick, children } = props;\n  return (\n    <button onClick={onClick} style={styleBase}>\n      {children}\n    </button>\n  );\n};\n","import React, { FunctionComponent } from \"react\";\n\nexport const ButtonGroup: FunctionComponent = (props) => {\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        marginTop: \"1rem\",\n        display: \"flex\",\n        flexDirection: \"row-reverse\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      {props.children}\n    </div>\n  );\n};\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport { interval } from \"rxjs\";\nimport { BaseQRCode } from \"../components/BaseQRCode\";\nimport { Play, PlayStatus } from \"../types\";\nimport { EventEmitter } from \"events\";\nimport { Button } from \"../components/Button\";\nimport { ButtonGroup } from \"../components/ButtonGroup\";\nimport { UR, UREncoder } from \"@ngraveio/bc-ur\";\n\nconst DEFAULT_SPEED = 100;\n\nconst DEFAULT_MAX_FRAGMENT_LENGTH = 400;\n\nconst DEFAULT_UR = new UR(Buffer.from(\"NO DATA\", \"utf-8\"));\n\nexport const useAnimatedQRCodePlayer = (): [JSX.Element, { play: Play }] => {\n  const [data, setData] = useState<UR>(DEFAULT_UR);\n  const [shouldShow, setShouldShow] = useState(false);\n\n  const [refreshSpeed, setRefreshSpeed] = useState(DEFAULT_SPEED);\n  const [maxFragmentLength, setMaxFragmentLength] = useState(DEFAULT_MAX_FRAGMENT_LENGTH)\n  const [hasNext, setHasNext] = useState(false);\n  const [title, setTitle] = useState<string | null>(null);\n  const [description, setDescription] = useState<string | null>(null);\n\n  const urEncoder = useMemo(() => new UREncoder(data, maxFragmentLength), [data]);\n\n  const [qr, setQR] = useState<string>(urEncoder.nextPart());\n\n  const ee = useMemo(() => new EventEmitter(), []);\n  const reset = () => {\n    setData(DEFAULT_UR);\n    setShouldShow(false);\n    setRefreshSpeed(DEFAULT_SPEED);\n  };\n\n  useEffect(() => {\n    if (urEncoder.cbor.toString(\"hex\") !== DEFAULT_UR.cbor.toString(\"hex\")) {\n      setShouldShow(true);\n    }\n  }, [urEncoder]);\n\n  useEffect(() => {\n    const subscribe = interval(refreshSpeed).subscribe(() => {\n      setQR(urEncoder.nextPart());\n    });\n    return () => {\n      subscribe.unsubscribe();\n    };\n  }, [refreshSpeed, urEncoder]);\n\n  const finish = () => {\n    ee.emit(\"finish\", true);\n  };\n\n  const element = shouldShow ? (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n      }}\n    >\n      {title && (\n        <p style={{ fontSize: \"1.25rem\", fontWeight: \"bold\" }}>{title}</p>\n      )}\n      <BaseQRCode size={288} data={qr} />\n      {description && (\n        <p style={{ fontSize: \"1rem\", textAlign: \"center\" }}>{description}</p>\n      )}\n      <ButtonGroup>\n        <Button onClick={finish}>{hasNext ? \"Scan Keystone\" : \"Finish\"}</Button>\n      </ButtonGroup>\n    </div>\n  ) : (\n    <div></div>\n  );\n\n  return [\n    element,\n    {\n      play: (data, options) => {\n        return new Promise((resolve) => {\n          setData(data);\n          if (options) {\n            options.refreshSpeed && setRefreshSpeed(options.refreshSpeed);\n            options.hasNext && setHasNext(options.hasNext);\n            options.title && setTitle(options.title);\n            options.description && setDescription(options.description);\n            options.maxFragmentLength && setMaxFragmentLength(options.maxFragmentLength)\n          }\n          ee.once(\"finish\", () => {\n            reset();\n            resolve(PlayStatus.success);\n          });\n        });\n      },\n    },\n  ];\n};\n","export class URTypeError extends Error {\n  constructor(msg: string) {\n    super(msg);\n\n    // Set the prototype explicitly.\n    Object.setPrototypeOf(this, URTypeError.prototype);\n  }\n}\n","import React from \"react\";\n\nexport const LoadingSpinner = () => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      style={{\n        margin: \"auto\",\n        display: \"block\",\n        shapeRendering: \"auto\",\n        animationPlayState: \"running\",\n        animationDelay: \"0s\",\n      }}\n      width=\"200px\"\n      height=\"200px\"\n      viewBox=\"0 0 100 100\"\n      preserveAspectRatio=\"xMidYMid\"\n    >\n      <circle\n        cx=\"50\"\n        cy=\"50\"\n        fill=\"none\"\n        stroke=\"#9b9b9b\"\n        strokeWidth=\"7\"\n        r=\"35\"\n        strokeDasharray=\"164.93361431346415 56.97787143782138\"\n        style={{ animationPlayState: \"running\", animationDelay: \"0s\" }}\n      >\n        <animateTransform\n          attributeName=\"transform\"\n          type=\"rotate\"\n          repeatCount=\"indefinite\"\n          dur=\"1s\"\n          values=\"0 50 50;360 50 50\"\n          keyTimes=\"0;1\"\n          style={{ animationPlayState: \"running\", animationDelay: \"0s\" }}\n        ></animateTransform>\n      </circle>\n    </svg>\n  );\n};\n","import React, { useMemo, useState, Suspense } from \"react\";\nimport { EventEmitter } from \"events\";\nimport { Button } from \"../components/Button\";\nimport { URTypeError } from \"../error\";\n\nimport { Read, SupportedResult } from \"../types\";\nimport { ButtonGroup } from \"../components/ButtonGroup\";\nimport { LoadingSpinner } from \"../components/LoadingSpinner\";\nimport { URDecoder } from \"@ngraveio/bc-ur\";\n\nconst QrReader = React.lazy(() => import(\"react-qr-reader\"));\n\nexport interface URQRCodeData {\n  total: number;\n  index: number;\n  data: string;\n}\n\nlet URTypeErrorMessage = \"\";\n\nexport const useAnimatedQRCodeReader = (): [\n  JSX.Element,\n  { read: Read; cameraReady: boolean }\n] => {\n  const [cameraReady, setCameraReady] = useState<boolean>(false);\n  const [expectTypes, setExpectTypes] = useState<SupportedResult[]>([]);\n  const [urDecoder, setURDecoder] = useState(new URDecoder());\n  const [error, setError] = useState(\"\");\n  const ee = useMemo(() => new EventEmitter(), []);\n  const [title, setTitle] = useState<string | null>(null);\n  const [progress, setProgress] = useState(0);\n  const [description, setDescription] = useState<string | null>(null);\n  const reset = () => {\n    setURDecoder(new URDecoder());\n    setError(\"\");\n  };\n\n  const processQRCode = (qr: string, errorMessgeOnURType: string) => {\n    processUR(qr, errorMessgeOnURType);\n  };\n\n  const handleStop = () => {\n    ee.emit(\"read\", {\n      status: \"canceled\",\n    });\n  };\n\n  const handleRetry = () => {\n    reset();\n  };\n\n  const processUR = (ur: string, errorMessgeOnURType: string) => {\n    try {\n      if (!urDecoder.isComplete()) {\n        urDecoder.receivePart(ur);\n        setProgress(urDecoder.getProgress());\n      } else {\n        const result = urDecoder.resultUR();\n        let foundExpected = false;\n        expectTypes.forEach((et) => {\n          if (et === result.type) {\n            foundExpected = true;\n            ee.emit(\"read\", {\n              result,\n              status: \"success\",\n            });\n            return;\n          }\n        });\n        if (!foundExpected)\n          throw new URTypeError(\n            `received ur type ${result.type}, but expected [${expectTypes.join(\n              \",\"\n            )}]`\n          );\n      }\n    } catch (e) {\n      if (e instanceof URTypeError) {\n        setError(errorMessgeOnURType);\n      } else {\n        setError((e as Error).message);\n      }\n    }\n  };\n\n  const element = (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n      }}\n    >\n      {title && (\n        <p style={{ fontSize: \"1.25rem\", fontWeight: \"bold\" }}>{title}</p>\n      )}\n      {description && (\n        <p style={{ fontSize: \"1rem\", textAlign: \"center\" }}>{description}</p>\n      )}\n      <Suspense fallback={<div />}>\n        <div style={{ position: \"relative\", width: \"100%\" }}>\n          {!cameraReady ? (\n            <div\n              style={{\n                position: \"absolute\",\n                top: \"50%\",\n                left: \"50%\",\n                transform: \"translate(-50%, -50%)\",\n              }}\n            >\n              <LoadingSpinner />\n            </div>\n          ) : null}\n          <QrReader\n            onScan={(data: any) => {\n              if (data) {\n                setCameraReady(true);\n                processQRCode(data, URTypeErrorMessage);\n              }\n            }}\n            delay={100}\n            style={{ width: \"100%\" }}\n            onError={(e) => {\n              setError(e.message);\n            }}\n          />\n        </div>\n      </Suspense>\n      <p>{(progress * 100).toFixed(0)} %</p>\n      {error && <p style={{ color: \"red\", fontSize: \"1rem\" }}>{error}</p>}\n      <ButtonGroup>\n        <Button onClick={handleStop}>Close</Button>\n        {error && <Button onClick={handleRetry}>Retry</Button>}\n      </ButtonGroup>\n    </div>\n  );\n\n  return [\n    element,\n    {\n      read: (expect, options) => {\n        return new Promise((resolve) => {\n          setExpectTypes(expect);\n          if (options) {\n            options.title && setTitle(options.title);\n            options.description && setDescription(options.description);\n            URTypeErrorMessage = options.URTypeErrorMessage\n              ? options.URTypeErrorMessage\n              : \"\";\n          }\n          ee.once(\"read\", (result) => {\n            reset();\n            resolve(result);\n          });\n        });\n      },\n      cameraReady,\n    },\n  ];\n};\n","import React from \"react\";\nimport { Button } from \"./Button\";\n\nexport const InitialPage = (props: {\n  walletMode: string;\n  link: string;\n  onButtonClick: () => void;\n}) => {\n  return (\n    <div style={{ paddingLeft: \"1rem\" }}>\n      <div style={{ display: \"flex\", alignItems: \"center\", padding: 0 }}>\n        <img\n          style={{ display: \"inline-block\" }}\n          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAoCAYAAACfKfiZAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAKAAAAACc9ikyAAAD+ElEQVRYCb1WbWiNURw/Z9caY5SyrKzVhuUtZcYoJdZ8kMywGClG+WK+eJsPmogNKfZBxBbmAyPyEgvtA8UUX9inbVeb8AGTd8t2j9/vdp91ntPzPPd57h3/+t1z/uf/ev7nnP9zhUiMsmH2BOgF9ifmIjmrVpgrDWuScxfMeqUW2EqiB2sjgrlJTDsNZmHACqyP2xJzGcyq2iU4E7kTzFVw7fEw+Qbou9bn94K7FCIlgNFh6I7y0E8oAQ9/NlEBuAig71ifv4VspM1iiJnHHsGZyPohjmdzxzeu79acsyFJm8UQMnzbfONmUIvnsRTG4g3DWAM8B24DM4GkaR88WMGcxkYtQr2h+wl8niYPPJ0Aix+AU2Cu8UlmASRe0gHA1L1JYaLUBEPToc7v1hx7XdISTc/3tAiaXs+uE3K2ZdJaQE/MnLdDzvvhm3ij2wDTkc4vj3lLx/gmji7tqmL6voYNcRze17zwv4CemNuc/xt8NSoqsau5OfoD2TSAxDb+EXDTNdeX0igeHYSCaajzfGoWZWDidU90O84XWIZuYw4EvwDT0OK527GG8VUPfcuO4wPAsVvqt/MolIYDbsSmxLPUiS+gEpgBOH1Z+7HOC90MMBFXYnn0jM35S8hDrtZJCFgBluZEHB/bIWenc6XVV1Qo/MCxCoM2ucUi0lwubX4YfBng1TKvQ1426MWY1NSolAs94jJKVoYaOh2DbqGw3ddQqutqkGcooEG5rmHM+8DvMNZs7KVuUaiUWOUjOO0k9HIjSpzOq1RRv0xgus2jnTkONhxbKsZ4A7gFlMbWRChddMLtZ4v3O0YiojZvq8rkEbwCrOai278Dkw98BxYBLYD+anaB58sREzerosiAaMExjCbvl0KpooAV6HIx2IN1Bk8FTgF6cLDiCLCTk86z8mlKSCzBbr6S90NSooumiXYm8MjBgG+3KbZehXGygw6XmAQrEU0C77TETxII3ofA6zrrZR+PIAvoBrhTEnvAPIBJZAIdQLzS8r8BkxGTNqq5AxLHocQY8iYxOIKuwCu4Sxkr8B7g5bLoIiYMTjoExAtOvTqASYiORtmmJCohxRfyBv3GeqkVnDJWgLQQaAV45iw3k5oKsAMySb9UDcVaKuduUYWiX1xDObPJI/AHDBXhBsnvwiBZCXChAuA/nWdkQLxg0bJGOf8/tDtG9fxNKqNfisX4ZKamC/Gw/Zzs9e9GiL1Q5n0ICn6A5gQJ5KY7C4Ig33s90WibdXOsr3ud7wsoshcwiaAUPfegRm76syHgBylINaIX0c1hout8FecB/i/Uy23OedvZP/4Z5cDzSeAnYAZnK54P/BcahygHAD5dNh12tilAIPoLD0OnpwCV000AAAAASUVORK5CYII=\"\n          alt=\"\"\n        />\n        <div\n          style={{\n            fontSize: \"1.25rem\",\n            fontWeight: \"bold\",\n            marginLeft: \"1rem\",\n          }}\n        >\n          Sync Keystone\n        </div>\n      </div>\n      <ul\n        style={{\n          marginTop: \"2rem\",\n          listStyleType: \"none\",\n          padding: 0,\n          fontSize: \"1rem\",\n        }}\n      >\n        <li style={{ marginBottom: \"0.75rem\" }}>\n          1. Turn on your Keystone hardware device\n        </li>\n        <li\n          style={{ marginBottom: \"0.75rem\" }}\n        >{`2. Select your \"${props.walletMode}\" as your Watch-only wallet(Companion App)`}</li>\n        <li style={{ marginBottom: \"0.75rem\" }}>\n          {\" \"}\n          3. Press the \"Scan Keystone\" button and scan the QR Code displayed on\n          your Keystone hardware wallet\n        </li>\n        <li style={{ marginBottom: \"0.75rem\" }}>\n          {\" \"}\n          4. Select account and check your watch-only wallet\n        </li>\n      </ul>\n      <div style={{ marginBottom: \"1rem\" }}>\n        <a\n          style={{\n            marginTop: \"1.25rem\",\n            color: \"#784FFE\",\n            textDecoration: \"none\",\n          }}\n          href={props.link}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          Click here to view detailed tutorial\n        </a>\n      </div>\n      <Button onClick={props.onButtonClick}>Sync Keystone</Button>\n    </div>\n  );\n};\n","import React, { useMemo, useState } from \"react\";\nimport Modal from \"react-modal\";\nimport { EventEmitter } from \"events\";\nimport { useAnimatedQRCodePlayer } from \"./useAnimatedQRCodePlayer\";\nimport { useAnimatedQRCodeReader } from \"./useAnimatedQRCodeReader\";\nimport { Play, PlayStatus, Read, ReadStatus } from \"../types\";\nimport { InitialPage } from \"../components/InitialPage\";\n\nconst customStyles = {\n  overlay: {\n    zIndex: 999,\n  },\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    borderRadius: \"10px\",\n    width: \"37rem\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n    postion: \"relative\",\n  },\n};\n\nexport const useController = (): [\n  JSX.Element,\n  {\n    play: Play;\n    read: Read;\n    cameraReady: boolean;\n  }\n] => {\n  const ee = useMemo(() => new EventEmitter(), []);\n  const [visible, setVisible] = useState(false);\n  const [walletMode, setWalltMode] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n  const [mode, setMode] = useState<\"read\" | \"play\" | \"initial\" | null>(null);\n  const [AnimatedQRCodePlayer, { play }] = useAnimatedQRCodePlayer();\n  const [AnimatedQRCodeReader, { read, cameraReady }] =\n    useAnimatedQRCodeReader();\n  const close = () => {\n    ee.emit(\"close\");\n    reset();\n  };\n\n  const reset = () => {\n    setMode(null);\n    setLink(\"\");\n    setWalltMode(\"\");\n    setVisible(false);\n  };\n\n  const goToRead = () => {\n    setMode(\"read\");\n  };\n\n  const renderPannel = (pageMode: string) => {\n    if (pageMode === \"initial\") {\n      return (\n        <InitialPage\n          walletMode={walletMode}\n          link={link}\n          onButtonClick={goToRead}\n        />\n      );\n    } else if (pageMode === \"read\") {\n      return AnimatedQRCodeReader;\n    } else if (pageMode === \"play\") {\n      return AnimatedQRCodePlayer;\n    } else {\n      return null;\n    }\n  };\n\n  const element = (\n    <Modal isOpen={visible} style={customStyles}>\n      <div onClick={close}>\n        <img\n          style={{ position: \"absolute\", top: \"1rem\", right: \"1rem\" }}\n          src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADKADAAQAAAABAAAADAAAAAATDPpdAAAAmklEQVQoFZWRwQ3DIAwAa4brJPBP80hnaD/lD5N0iYxEfRVBxBGRwsvgO2PZklJaReTrvX/eTk7O+VVKuTtgDRYVPyOeHAysAFV40jCGEB69aHN/YSRZGK4JVuKu5/DrToDoqnI9tOh4vXJ2Qlc96kSY2lTfWs0m9DCT0r3MSkUrXR9r3eBCNbuDrY/td23z7Vg3wQhGIgcD+wPGY2fPvHuWagAAAABJRU5ErkJggg==\"\n        />\n      </div>\n      <div\n        style={{\n          width: \"35rem\",\n          padding: 18,\n          flex: 1,\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          color: \"#002237\",\n        }}\n      >\n        {renderPannel(mode)}\n      </div>\n    </Modal>\n  );\n  return [\n    element,\n    {\n      play: (data, options) => {\n        return new Promise<PlayStatus>((resolve) => {\n          ee.once(\"close\", () => {\n            resolve(PlayStatus.canceled);\n          });\n          setVisible(true);\n          setMode(\"play\");\n          play(data, options).then(() => {\n            reset();\n            resolve(PlayStatus.success);\n          });\n        });\n      },\n      read: async (expect, options) => {\n        return new Promise((resolve) => {\n          ee.once(\"close\", () => {\n            reset();\n            resolve({\n              status: ReadStatus.canceled,\n            });\n          });\n          if (options.renderInitial) {\n            setWalltMode(options.renderInitial.walletMode);\n            setLink(options.renderInitial.link);\n            setMode(\"initial\");\n            setVisible(true);\n            read(expect, options).then((result) => {\n              reset();\n              resolve(result);\n            });\n          } else {\n            setMode(\"read\");\n            setVisible(true);\n            read(expect, options).then((result) => {\n              reset();\n              resolve(result);\n            });\n          }\n        });\n      },\n      cameraReady,\n    },\n  ];\n};\n","import { setupSdk } from \"./service\";\nimport { useController } from \"./hooks/useController\";\n\nexport default () => {\n  const [Controller, { read, play, cameraReady }] = useController();\n  setupSdk(read, play, cameraReady);\n  return Controller;\n};\n","import ReactDOM from \"react-dom\";\nimport Root from \"./Root\";\nimport React from \"react\";\nimport { Play, Read } from \"./types\";\nimport Modal from \"react-modal\";\n\nlet initialized = false;\nlet read: Read;\nlet play: Play;\nlet cameraReady: boolean;\n\nconst bootstrap = (): void => {\n  const htmlBody = document\n    .getElementsByTagName(\"body\")\n    .item(0) as HTMLBodyElement;\n  const sdkDiv = document.createElement(\"div\");\n  sdkDiv.id = \"kv_sdk_container\";\n  htmlBody.appendChild(sdkDiv);\n  Modal.setAppElement(\"#kv_sdk_container\");\n  ReactDOM.render(React.createElement(Root), sdkDiv);\n};\n\nexport const setupSdk = (r: Read, p: Play, status: boolean) => {\n  initialized = true;\n  read = r;\n  play = p;\n  cameraReady = status;\n};\n\nconst sdk = {\n  bootstrap,\n  getSdk: () => {\n    if (initialized) {\n      return {\n        read,\n        play,\n        cameraReady,\n      };\n    } else {\n      throw new Error(\"SDK is not initialized\");\n    }\n  },\n};\n\nexport default sdk;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}