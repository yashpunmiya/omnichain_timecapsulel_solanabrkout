{"ast":null,"code":"import { ConstantsUtil } from '@reown/appkit-common';\nimport { ChainController } from '../controllers/ChainController.js';\nexport const MobileWalletUtil = {\n  /**\n   * Handles mobile wallet redirection for wallets that have Universal Links.\n   *\n   * @param {Object} properties - The properties object.\n   * @param {string} properties.name - The name of the wallet.\n   */\n  handleSolanaDeeplinkRedirect(name) {\n    if (ChainController.state.activeChain === ConstantsUtil.CHAIN.SOLANA) {\n      /**\n       * Universal Links requires explicit user interaction to open the wallet app.\n       * Previously we've been calling this with the life-cycle methods in the Solana clients by listening the SELECT_WALLET event of EventController.\n       * But this breaks the UL functionality for some wallets like Phantom.\n       */\n      const href = window.location.href;\n      const encodedHref = encodeURIComponent(href);\n      if (name === 'Phantom' && !('phantom' in window)) {\n        const protocol = href.startsWith('https') ? 'https' : 'http';\n        const host = href.split('/')[2];\n        const encodedRef = encodeURIComponent(`${protocol}://${host}`);\n        window.location.href = `https://phantom.app/ul/browse/${encodedHref}?ref=${encodedRef}`;\n      }\n      if (name === 'Coinbase Wallet' && !('coinbaseSolana' in window)) {\n        window.location.href = `https://go.cb-w.com/dapp?cb_url=${encodedHref}`;\n      }\n    }\n  }\n};","map":{"version":3,"names":["ConstantsUtil","ChainController","MobileWalletUtil","handleSolanaDeeplinkRedirect","name","state","activeChain","CHAIN","SOLANA","href","window","location","encodedHref","encodeURIComponent","protocol","startsWith","host","split","encodedRef"],"sources":["../../../../src/utils/MobileWallet.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,aAAa,QAAQ,sBAAsB;AAEpD,SAASC,eAAe,QAAQ,mCAAmC;AAEnE,OAAO,MAAMC,gBAAgB,GAAG;EAC9B;;;;;;EAMAC,4BAA4BA,CAACC,IAAY;IACvC,IAAIH,eAAe,CAACI,KAAK,CAACC,WAAW,KAAKN,aAAa,CAACO,KAAK,CAACC,MAAM,EAAE;MACpE;;;;;MAKA,MAAMC,IAAI,GAAGC,MAAM,CAACC,QAAQ,CAACF,IAAI;MACjC,MAAMG,WAAW,GAAGC,kBAAkB,CAACJ,IAAI,CAAC;MAC5C,IAAIL,IAAI,KAAK,SAAS,IAAI,EAAE,SAAS,IAAIM,MAAM,CAAC,EAAE;QAChD,MAAMI,QAAQ,GAAGL,IAAI,CAACM,UAAU,CAAC,OAAO,CAAC,GAAG,OAAO,GAAG,MAAM;QAC5D,MAAMC,IAAI,GAAGP,IAAI,CAACQ,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAC/B,MAAMC,UAAU,GAAGL,kBAAkB,CAAC,GAAGC,QAAQ,MAAME,IAAI,EAAE,CAAC;QAE9DN,MAAM,CAACC,QAAQ,CAACF,IAAI,GAAG,iCAAiCG,WAAW,QAAQM,UAAU,EAAE;MACzF;MAEA,IAAId,IAAI,KAAK,iBAAiB,IAAI,EAAE,gBAAgB,IAAIM,MAAM,CAAC,EAAE;QAC/DA,MAAM,CAACC,QAAQ,CAACF,IAAI,GAAG,mCAAmCG,WAAW,EAAE;MACzE;IACF;EACF;CACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}