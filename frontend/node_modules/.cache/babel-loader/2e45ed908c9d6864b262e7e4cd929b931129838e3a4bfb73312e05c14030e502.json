{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { html } from 'lit';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport { AssetUtil, ConnectionController, EventsController, ThemeController } from '@reown/appkit-controllers';\nimport { customElement } from '@reown/appkit-ui';\nimport '@reown/appkit-ui/wui-flex';\nimport '@reown/appkit-ui/wui-icon';\nimport '@reown/appkit-ui/wui-link';\nimport '@reown/appkit-ui/wui-qr-code';\nimport '@reown/appkit-ui/wui-shimmer';\nimport '@reown/appkit-ui/wui-text';\nimport '@reown/appkit-ui/wui-ux-by-reown';\nimport { W3mConnectingWidget } from '../../utils/w3m-connecting-widget/index.js';\nimport '../w3m-mobile-download-links/index.js';\nimport styles from './styles.js';\nlet W3mConnectingWcQrcode = class W3mConnectingWcQrcode extends W3mConnectingWidget {\n  constructor() {\n    super();\n    this.forceUpdate = () => {\n      this.requestUpdate();\n    };\n    window.addEventListener('resize', this.forceUpdate);\n    EventsController.sendEvent({\n      type: 'track',\n      event: 'SELECT_WALLET',\n      properties: {\n        name: this.wallet?.name ?? 'WalletConnect',\n        platform: 'qrcode'\n      }\n    });\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    this.unsubscribe?.forEach(unsub => unsub());\n    window.removeEventListener('resize', this.forceUpdate);\n  }\n  render() {\n    this.onRenderProxy();\n    return html`\n      <wui-flex\n        flexDirection=\"column\"\n        alignItems=\"center\"\n        .padding=${['0', 'xl', 'xl', 'xl']}\n        gap=\"xl\"\n      >\n        <wui-shimmer borderRadius=\"l\" width=\"100%\"> ${this.qrCodeTemplate()} </wui-shimmer>\n\n        <wui-text variant=\"paragraph-500\" color=\"fg-100\">\n          Scan this QR Code with your phone\n        </wui-text>\n        ${this.copyTemplate()}\n      </wui-flex>\n      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>\n    `;\n  }\n  onRenderProxy() {\n    if (!this.ready && this.uri) {\n      this.timeout = setTimeout(() => {\n        this.ready = true;\n      }, 200);\n    }\n  }\n  qrCodeTemplate() {\n    if (!this.uri || !this.ready) {\n      return null;\n    }\n    const size = this.getBoundingClientRect().width - 40;\n    const alt = this.wallet ? this.wallet.name : undefined;\n    ConnectionController.setWcLinking(undefined);\n    ConnectionController.setRecentWallet(this.wallet);\n    return html` <wui-qr-code\n      size=${size}\n      theme=${ThemeController.state.themeMode}\n      uri=${this.uri}\n      imageSrc=${ifDefined(AssetUtil.getWalletImage(this.wallet))}\n      color=${ifDefined(ThemeController.state.themeVariables['--w3m-qr-color'])}\n      alt=${ifDefined(alt)}\n      data-testid=\"wui-qr-code\"\n    ></wui-qr-code>`;\n  }\n  copyTemplate() {\n    const inactive = !this.uri || !this.ready;\n    return html`<wui-link\n      .disabled=${inactive}\n      @click=${this.onCopyUri}\n      color=\"fg-200\"\n      data-testid=\"copy-wc2-uri\"\n    >\n      <wui-icon size=\"xs\" color=\"fg-200\" slot=\"iconLeft\" name=\"copy\"></wui-icon>\n      Copy link\n    </wui-link>`;\n  }\n};\nW3mConnectingWcQrcode.styles = styles;\nW3mConnectingWcQrcode = __decorate([customElement('w3m-connecting-wc-qrcode')], W3mConnectingWcQrcode);\nexport { W3mConnectingWcQrcode };","map":{"version":3,"names":["html","ifDefined","AssetUtil","ConnectionController","EventsController","ThemeController","customElement","W3mConnectingWidget","styles","W3mConnectingWcQrcode","constructor","forceUpdate","requestUpdate","window","addEventListener","sendEvent","type","event","properties","name","wallet","platform","disconnectedCallback","unsubscribe","forEach","unsub","removeEventListener","render","onRenderProxy","qrCodeTemplate","copyTemplate","ready","uri","timeout","setTimeout","size","getBoundingClientRect","width","alt","undefined","setWcLinking","setRecentWallet","state","themeMode","getWalletImage","themeVariables","inactive","onCopyUri","__decorate"],"sources":["../../../../../src/partials/w3m-connecting-wc-qrcode/index.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}