{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loadDefinitions = void 0;\nconst loadDefinitions = async (messages, packageName, packageLoader) => {\n  try {\n    const pkg = messages.lookup(packageName);\n    if (pkg) {\n      return;\n    }\n  } catch {}\n  let enumType;\n  try {\n    enumType = messages.lookupEnum('MessageType');\n  } catch {}\n  const packageMessages = await packageLoader();\n  const pkg = messages.define(packageName, packageMessages);\n  let packageEnumType;\n  try {\n    packageEnumType = pkg.lookupEnum('MessageType');\n  } catch {}\n  if (enumType && packageEnumType) {\n    try {\n      Object.keys(packageEnumType.values).forEach(key => {\n        enumType.add(key, packageEnumType.values[key]);\n      });\n      pkg.remove(packageEnumType);\n    } catch (e) {\n      messages.remove(pkg);\n      throw e;\n    }\n  }\n};\nexports.loadDefinitions = loadDefinitions;\n//# sourceMappingURL=load-definitions.js.map","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}