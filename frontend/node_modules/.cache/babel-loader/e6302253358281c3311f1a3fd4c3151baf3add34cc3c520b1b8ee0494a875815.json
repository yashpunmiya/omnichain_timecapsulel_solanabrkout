{"ast":null,"code":"import { Eip712DomainNotFoundError } from '../../errors/eip712.js';\nimport { getAction } from '../../utils/getAction.js';\nimport { readContract } from './readContract.js';\n/**\n * Reads the EIP-712 domain from a contract, based on the ERC-5267 specification.\n *\n * @param client - A {@link Client} instance.\n * @param parameters - The parameters of the action. {@link GetEip712DomainParameters}\n * @returns The EIP-712 domain, fields, and extensions. {@link GetEip712DomainReturnType}\n *\n * @example\n * ```ts\n * import { createPublicClient, http, getEip712Domain } from 'viem'\n * import { mainnet } from 'viem/chains'\n *\n * const client = createPublicClient({\n *   chain: mainnet,\n *   transport: http(),\n * })\n *\n * const domain = await getEip712Domain(client, {\n *   address: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',\n * })\n * // {\n * //   domain: {\n * //     name: 'ExampleContract',\n * //     version: '1',\n * //     chainId: 1,\n * //     verifyingContract: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',\n * //   },\n * //   fields: '0x0f',\n * //   extensions: [],\n * // }\n * ```\n */\nexport async function getEip712Domain(client, parameters) {\n  const {\n    address,\n    factory,\n    factoryData\n  } = parameters;\n  try {\n    const [fields, name, version, chainId, verifyingContract, salt, extensions] = await getAction(client, readContract, 'readContract')({\n      abi,\n      address,\n      functionName: 'eip712Domain',\n      factory,\n      factoryData\n    });\n    return {\n      domain: {\n        name,\n        version,\n        chainId: Number(chainId),\n        verifyingContract,\n        salt\n      },\n      extensions,\n      fields\n    };\n  } catch (e) {\n    const error = e;\n    if (error.name === 'ContractFunctionExecutionError' && error.cause.name === 'ContractFunctionZeroDataError') {\n      throw new Eip712DomainNotFoundError({\n        address\n      });\n    }\n    throw error;\n  }\n}\nconst abi = [{\n  inputs: [],\n  name: 'eip712Domain',\n  outputs: [{\n    name: 'fields',\n    type: 'bytes1'\n  }, {\n    name: 'name',\n    type: 'string'\n  }, {\n    name: 'version',\n    type: 'string'\n  }, {\n    name: 'chainId',\n    type: 'uint256'\n  }, {\n    name: 'verifyingContract',\n    type: 'address'\n  }, {\n    name: 'salt',\n    type: 'bytes32'\n  }, {\n    name: 'extensions',\n    type: 'uint256[]'\n  }],\n  stateMutability: 'view',\n  type: 'function'\n}];\n//# sourceMappingURL=getEip712Domain.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}